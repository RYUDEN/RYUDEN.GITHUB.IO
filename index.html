<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>lesson-7</title>
    <link rel="stylesheet" type="text/css" href="index.css">
</head>
<body>
    <audio 
    id="kekon"
    src="kekon.mp3"
    title="结婚"
    controls
    loop
    ></audio>
    <div class="container">
        <div id="duration">
            <div id="slider">
                    <span id="time">0:00</span>
            </div>
        </div>
        <div class="play-control" >
                <img src="play.png" class="play" alt="" onclick="playpause()">
                <img src="stop.png" class="stop" 
                style="display:none"
                onclick="playpause()">
        </div>
        <div class="Top" onclick="backtop()" style="display:none;">
            <img src="top.png" alt="回到顶部">
        </div>
        <div class="head">
            <div class="avatar">
                <img src="a.png" alt="头像" title="头像">
            </div>
            <h1><a href="/">落草之舞</a></h1>
            <ul class="nav">
                <li><a href="">文字</a></li>
                <li><a href="">摄影</a></li>
                <li><a href="">音乐</a></li>
                <li><a href="">视频</a></li>
                <li><a href="">about me</a></li>
                <li class="search">
                    <a class="" id="searchBtn" href="javascript:aclick();">搜索</a>
                    <input class="search1" id="searchInput" type="text" 
                    onblur="InputBlur()"
                    style="width:0px;opacity:0;"
                    autofocus>
                </li>
            </ul>                      
        </div>
        <div class="body">
            <div class="item">
                <div class="item-img">
                    <img src="http://imglf5.nosdn0.126.net/img/M1dBKzVkMXR5NDJhRmtSaUplYkV1YTBybFBwYWh0OThQS2QzdTl3b1lHemgzNkNEWkVBY3B3PT0.jpg?imageView&thumbnail=1680x0&quality=96&stripmeta=0&type=jpg" alt="">
                    <a class="jiao"></a>
                </div>
                <div class="item-info">
                    <p class="content">头像</p>
                    <a href="" class="time">2018/10/20</a>
                </div>
            </div>
            <div class="item">
                <div class="item-img">
                    <img src="http://imglf3.nosdn0.126.net/img/RGw5T2dBVWlCNHd1NHNUWGFSVStsZmF5dUhMbmhEaWQ0UFZxdnNwZVJIcVh6VDRhcG5ObHR3PT0.jpg?imageView&thumbnail=2000y2666&type=jpg&quality=96&stripmeta=0&type=jpg%7Cwatermark&type=2&text=wqkg5byg54Gv5rSB5b2pwrdGb1BvVG8gLyBsYW1iZGFmb3RvLmxvZnRlci5jb20=&font=bXN5aA==&gravity=southwest&dissolve=30&fontsize=680&dx=32&dy=36&stripmeta=0" alt="">
                    <a class="jiao"></a>
                </div>
                <div class="item-info">
                    <p class="content">头像</p>
                    <a href="" class="time">2018/10/20</a>
                </div>
            </div>
            <div class="item">
                <div class="item-img">
                    <img src="http://imglf3.nosdn0.126.net/img/MnBTYnlKQnRnKzVSTGlxTVMycE5ST0NBMlh0Qy9pcGNMTEFiM2hlQ2N1cHU1cFFXRytReG1nPT0.jpg?imageView&thumbnail=2000y2584&type=jpg&quality=96&stripmeta=0&type=jpg%7Cwatermark&type=2&text=wqkg54uQ54u454uQ54u46bG8IC8gZm94ZmlzaC5sb2Z0ZXIuY29t&font=bXN5aA==&gravity=southwest&dissolve=30&fontsize=680&dx=32&dy=36&stripmeta=0" alt="">
                    <a class="jiao"></a>
                </div>
                <div class="item-info">
                    <p class="content">头像</p>
                    <a href="" class="time">2018/10/20</a>
                </div>
            </div>
        </div>
        <div class="foot">
            <div class="base">
                <h3>落草之舞</h3>
                <p>临渊羡鱼，不如退而结网</p>
                <p class="link">
                    @&nbsp;<!--不会打那个圈c,就打的圈a -->
                    <a href="">落草之舞</a>
                    &nbsp;/&nbsp;Power by
                    <a href="">LOFTER</a>
                </p>
            </div>    
        </div>
    </div>
    <script>
            var searchBtn = document.getElementById('searchBtn');
            var searchInput = document.getElementById('searchInput');
            
            function aclick(){
                searchBtn.style.display = 'none';
                searchInput.style.opacity = '1';
                searchInput.style.width = '75px';
                searchInput.focus()
            }
            function InputBlur(){
                searchBtn.style.display = 'inline-block';
                searchInput.style.opacity = '0';
                searchInput.style.width = '0px';
            }
  
            var kekon = document.getElementById('kekon');//音乐
            kekon.volume = 0.125;//设置音量为 12.5
            var duration = document.getElementById('duration');
            var slider = document.getElementById('slider');
            kekon.addEventListener('timeupdate',function(){
                slider.style.width = (kekon.currentTime/kekon.duration)*100+'%';
                var minute = Math.floor(kekon.currentTime/60);
                var seconds = parseInt((kekon.currentTime%60).toFixed(0));
                document.getElementById('time').innerHTML  = minute+':'+(seconds>10?seconds:'0'+seconds)
            })
            slider.addEventListener('click',function(){
                playpause()
            });

            /**
            * playpause 播放/暂停音乐
            */
            function playpause(){
                if(kekon.paused){
                    kekon.play();
                    document.querySelector('.play').style.display = 'none';
                    document.querySelector('.stop').style.display = 'block';
                }else{
                    kekon.pause();
                    document.querySelector('.stop').style.display = 'none';
                    document.querySelector('.play').style.display = 'block';
                }
            }
            /**
            *
            *回到顶部
            */
            window.addEventListener('scroll',function(){
                if( document.scrollingElement.scrollTop<500){
                    document.querySelector('.Top').style.display = 'none'//距离顶部距离小于500不显示
                }else{
                    document.querySelector('.Top').style.display = 'block'
                }
            });
            function backtop(){
               var Timer  = setInterval(function(){
                    if( document.scrollingElement.scrollTop<20){
                        clearInterval(Timer)
                    };
                    document.scrollingElement.scrollTop =  document.scrollingElement.scrollTop- document.scrollingElement.scrollTop/4;
               },20)
            }
        </script>

</body>
</html>