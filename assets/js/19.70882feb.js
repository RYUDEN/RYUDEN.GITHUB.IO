(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{1556:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[1==t.change_pwd?r("div",{staticClass:"setPwd"},[r("div",{staticClass:"title bold"},[t._v("\n            修改密码\n        ")]),r("div",{staticClass:"main ac"},[r("div",{staticClass:"pwdType"},[r("a",{class:["bold",{selec:1===t.type}],on:{click:function(e){t.type=1}}},[t._v("原始密码修改")]),r("a",{class:["bold",{selec:2===t.type}],on:{click:function(e){t.type=2}}},[t._v("短信验证修改")])]),1===t.type?r("div",{staticClass:"form ac"},[r("table",[r("tr",[t._m(0),r("td",{staticClass:"input"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.OldPassword,expression:"OldPassword"}],attrs:{type:"password"},domProps:{value:t.OldPassword},on:{input:function(e){e.target.composing||(t.OldPassword=e.target.value)}}})])]),r("tr",[t._m(1),r("td",{staticClass:"input"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.NewPassword,expression:"NewPassword"}],attrs:{type:"password"},domProps:{value:t.NewPassword},on:{input:function(e){e.target.composing||(t.NewPassword=e.target.value)}}}),r("span",{staticClass:"al notice"},[t._v("请设置8-20位包含数字、大小写字母的密码")])])]),r("tr",[t._m(2),r("td",{staticClass:"input"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.NewPasswordVerify,expression:"NewPasswordVerify"}],attrs:{type:"password"},domProps:{value:t.NewPasswordVerify},on:{blur:t.CheckPassword,input:function(e){e.target.composing||(t.NewPasswordVerify=e.target.value)}}}),r("span",{directives:[{name:"show",rawName:"v-show",value:t.ShowNotice,expression:"ShowNotice"}],staticClass:"al notice red--text"},[t._v(t._s(t.PasswordNotice))])])]),r("tr",[r("td",{staticClass:"form-title"},[t._v("\n                              \n                        ")]),r("td",{staticClass:"input"},[r("div",{staticClass:"changePwd cursor bold",on:{click:t.ChangePwd}},[t._v("\n                                确认\n                            ")])])])])]):t._e(),2===t.type?r("div",{staticClass:"form ac"},[r("table",[r("tr",[t._m(3),r("td",{staticClass:"input"},[r("p",{staticClass:"al"},[t._v(t._s(t.phone))])])]),r("tr",[t._m(4),r("td",{staticClass:"input"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.VerifyCode,expression:"VerifyCode"}],attrs:{type:"text"},domProps:{value:t.VerifyCode},on:{input:function(e){e.target.composing||(t.VerifyCode=e.target.value)}}}),r("div",{staticClass:"verify-code cursor"},[r("Coder",{attrs:{phone:t.phone}})],1)])]),r("tr",[t._m(5),r("td",{staticClass:"input"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.NewPassword,expression:"NewPassword"}],attrs:{type:"password"},domProps:{value:t.NewPassword},on:{input:function(e){e.target.composing||(t.NewPassword=e.target.value)}}}),r("span",{staticClass:"al notice"},[t._v("请设置8-20位包含数字、大小写字母的密码")])])]),r("tr",[t._m(6),r("td",{staticClass:"input"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.NewPasswordVerify,expression:"NewPasswordVerify"}],attrs:{type:"password"},domProps:{value:t.NewPasswordVerify},on:{blur:t.CheckPassword,input:function(e){e.target.composing||(t.NewPasswordVerify=e.target.value)}}}),r("span",{directives:[{name:"show",rawName:"v-show",value:t.ShowNotice,expression:"ShowNotice"}],staticClass:"al notice red--text"},[t._v(t._s(t.PasswordNotice))])])]),r("tr",[r("td",{staticClass:"form-title"},[t._v("\n                              \n                        ")]),r("td",{staticClass:"input"},[r("div",{staticClass:"changePwd cursor bold",on:{click:t.ChangePwdBySms}},[t._v("\n                                确认\n                            ")])])])])]):t._e()])]):t._e(),0==t.change_pwd?r("div",{staticClass:"setPwd"},[r("div",{staticClass:"title bold"},[t._v("\n            设置密码\n        ")]),r("div",{staticClass:"main ac"},[r("div",{staticClass:"pwdType"}),r("div",{staticClass:"form ac"},[r("table",[r("tr",[t._m(7),r("td",{staticClass:"input"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.NewPassword,expression:"NewPassword"}],attrs:{type:"password"},domProps:{value:t.NewPassword},on:{input:function(e){e.target.composing||(t.NewPassword=e.target.value)}}}),r("span",{staticClass:"al notice"},[t._v("请设置8-20位包含数字、大小写字母的密码")])])]),r("tr",[t._m(8),r("td",{staticClass:"input"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.NewPasswordVerify,expression:"NewPasswordVerify"}],attrs:{type:"password"},domProps:{value:t.NewPasswordVerify},on:{blur:t.CheckPassword,input:function(e){e.target.composing||(t.NewPasswordVerify=e.target.value)}}}),r("span",{directives:[{name:"show",rawName:"v-show",value:t.ShowNotice,expression:"ShowNotice"}],staticClass:"al notice red--text"},[t._v(t._s(t.PasswordNotice))])])]),r("tr",[r("td",{staticClass:"form-title"},[t._v("\n                              \n                        ")]),r("td",{staticClass:"input"},[r("div",{staticClass:"changePwd cursor bold",on:{click:t.SetPwd}},[t._v("\n                                确认\n                            ")])])])])])])]):t._e()])},n=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("td",{staticClass:"form-title"},[r("p",[t._v("原始密码："),r("span")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("td",{staticClass:"form-title"},[r("p",[t._v("新密码："),r("span")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("td",{staticClass:"form-title"},[r("p",[t._v("确认密码："),r("span")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("td",{staticClass:"form-title"},[r("p",[t._v("手机号码："),r("span")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("td",{staticClass:"form-title"},[r("p",[t._v("验证码："),r("span")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("td",{staticClass:"form-title"},[r("p",[t._v("新密码："),r("span")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("td",{staticClass:"form-title"},[r("p",[t._v("确认密码："),r("span")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("td",{staticClass:"form-title"},[r("p",[t._v("新密码："),r("span")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("td",{staticClass:"form-title"},[r("p",[t._v("确认密码："),r("span")])])}],i=(r("a481"),r("96cf"),r("1da1")),o=(r("cadf"),r("551c"),r("097d"),r("675d")),a={showRecommend:!1,nav:"default",header:"default"},c={name:"setpwd",metaInfo:{title:"修改密码",meta:[{name:"keywords",content:"福分通"},{name:"description",content:"专注企业员工福利"}]},data:function(){return{change_pwd:this.storage.getStorage("FFT").change_pwd||0,type:1,alert:!0,PasswordNotice:"请确认两次密码的正确性！",ShowNotice:!1,checked:!1,OldPassword:"",NewPassword:"",NewPasswordVerify:"",VerifyCode:"",phone:this.storage.getStorage("FFT").mobile}},created:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$store.dispatch("layout/Change",a);case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{CheckPassword:function(){var t=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,20}$/;return""===this.NewPasswordVerify.replace(/ /g,"")?(this.ShowNotice=!1,this.NewPassword="",this.NewPasswordVerify="",void(this.checked=!1)):t.test(this.NewPasswordVerify)?void(this.NewPasswordVerify===this.NewPassword?(this.ShowNotice=!1,this.checked=!0):(this.ShowNotice=!0,this.checked=!1,this.PasswordNotice="两次输入密码不符，请检查是否输入错误！")):(this.PasswordNotice="密码不符合规范！",this.ShowNotice=!0,void(this.checked=!1))},SetPwd:function(){var t=this,e={old_pwd:"12345678",new_pwd:this.NewPasswordVerify,mobile:this.phone},r=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,20}$/;r.test(e.new_pwd)?(this.NewPasswordVerify===this.NewPassword?(this.ShowNotice=!1,this.checked=!0):(this.ShowNotice=!0,this.checked=!1,this.PasswordNotice="两次输入密码不符，请检查是否输入错误！"),!1!==this.checked?this.yum("api/member/changePwd",e).then(function(e){200===e.data.status?(t.bus.$emit("notice",e.data.msg),setTimeout(function(){t.ClearLogin()},1100)):t.bus.$emit("notice",e.data.msg)}):this.bus.$emit("notice","请确认密码的有效性！")):this.bus.$emit("notice","请确认密码的有效性！")},ChangePwd:function(){var t=this,e={old_pwd:this.OldPassword,new_pwd:this.NewPasswordVerify,mobile:this.phone},r=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,20}$/;r.test(e.new_pwd)?(this.NewPasswordVerify===this.NewPassword?(this.ShowNotice=!1,this.checked=!0):(this.ShowNotice=!0,this.checked=!1,this.PasswordNotice="两次输入密码不符，请检查是否输入错误！"),this.checked?this.yum("api/member/changePwd",e).then(function(e){200===e.data.status?(t.bus.$emit("notice",e.data.msg),setTimeout(function(){t.ClearLogin()},1100)):t.bus.$emit("notice",e.data.msg)}):this.bus.$emit("notice","请确认密码的有效性！")):this.bus.$emit("notice","请确认密码的有效性！")},ChangePwdBySms:function(){var t=this,e={verify_code:this.VerifyCode,new_pwd:this.NewPasswordVerify,mobile:this.phone},r=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,20}$/;r.test(e.new_pwd)?(this.NewPasswordVerify===this.NewPassword?(this.ShowNotice=!1,this.checked=!0):(this.ShowNotice=!0,this.checked=!1,this.PasswordNotice="两次输入密码不符，请检查是否输入错误！"),this.checked?this.yum("api/member/changePwdByPhone",e).then(function(e){200===e.data.status?(t.bus.$emit("notice",e.data.msg),setTimeout(function(){t.ClearLogin()},1100)):t.bus.$emit("notice",e.data.msg)}):this.bus.$emit("notice","请确认密码的有效性！")):this.bus.$emit("notice","请确认密码的有效性！")},ClearLogin:function(){this.storage.removeStorage("FFT"),this.storage.removeStorage("business_data"),this.storage.removeStorage("exchange"),this.storage.removeStorage("fft-order-nums"),this.storage.removeStorage("fft-user-info"),location.assign("/user/clogin.html")}},components:{Coder:o["a"]},watch:{type:{handler:function(){this.NewPassword="",this.NewPasswordVerify=""},deep:!0}}},u=c,d=(r("bbee"),r("2877")),l=Object(d["a"])(u,s,n,!1,null,"158d9825",null);l.options.__file="setPwd.vue";e["default"]=l.exports},"1da1":function(t,e,r){"use strict";function s(t,e,r,s,n,i,o){try{var a=t[i](o),c=a.value}catch(u){return void r(u)}a.done?e(c):Promise.resolve(c).then(s,n)}function n(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){s(o,n,i,a,c,"next",t)}function c(t){s(o,n,i,a,c,"throw",t)}a(void 0)})}}r.d(e,"a",function(){return n})},2777:function(t,e,r){},"58ec":function(t,e,r){},"675d":function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"verify-sms"},[t.btn?r("div",{staticClass:"coder",on:{click:t.SendVerifyCode}},[t._v(" "+t._s(t.msg))]):r("div",{staticClass:"coder disabled"},[t._v(" "+t._s(t.msg))])])},n=[],i=(r("cadf"),r("551c"),r("097d"),{name:"VerifyCode",data:function(){return{msg:"获取验证码",btn:!0}},props:{phone:{default:"",type:String}},methods:{SendVerifyCode:function(){var t=this,e={phone:this.phone};this.yum("api/verify/sendSms",e).then(function(e){200===e.data.status?(t.Countdown(),t.bus.$emit("notice",e.data.msg)):t.bus.$emit("notice",e.data.msg)})},Countdown:function(){var t=this,e=60;this.btn=!1;var r=setInterval(function(){e-=1,t.msg="请等待".concat(e,"秒"),0===e&&(clearInterval(r),t.btn=!0,t.msg="获取验证码")},1e3)}}}),o=i,a=(r("8cff"),r("2877")),c=Object(a["a"])(o,s,n,!1,null,"4e32575c",null);c.options.__file="VerifyCode.vue";e["a"]=c.exports},"8cff":function(t,e,r){"use strict";var s=r("2777"),n=r.n(s);n.a},"96cf":function(t,e){!function(e){"use strict";var r,s=Object.prototype,n=s.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag",u="object"===typeof t,d=e.regeneratorRuntime;if(d)u&&(t.exports=d);else{d=e.regeneratorRuntime=u?t.exports:{},d.wrap=_;var l="suspendedStart",h="suspendedYield",f="executing",p="completed",w={},m={};m[o]=function(){return this};var v=Object.getPrototypeOf,y=v&&v(v(O([])));y&&y!==s&&n.call(y,o)&&(m=y);var g=b.prototype=N.prototype=Object.create(m);C.prototype=g.constructor=b,b.constructor=C,b[c]=C.displayName="GeneratorFunction",d.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===C||"GeneratorFunction"===(e.displayName||e.name))},d.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(g),t},d.awrap=function(t){return{__await:t}},x(S.prototype),S.prototype[a]=function(){return this},d.AsyncIterator=S,d.async=function(t,e,r,s){var n=new S(_(t,e,r,s));return d.isGeneratorFunction(e)?n:n.next().then(function(t){return t.done?t.value:n.next()})},x(g),g[c]="Generator",g[o]=function(){return this},g.toString=function(){return"[object Generator]"},d.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){while(e.length){var s=e.pop();if(s in t)return r.value=s,r.done=!1,r}return r.done=!0,r}},d.values=O,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function s(s,n){return a.type="throw",a.arg=t,e.next=s,n&&(e.method="next",e.arg=r),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return s("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return s(o.catchLoc,!0);if(this.prev<o.finallyLoc)return s(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return s(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return s(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r];if(s.tryLoc<=this.prev&&n.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var i=s;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,w):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),w},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),w}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var s=r.completion;if("throw"===s.type){var n=s.arg;E(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,s){return this.delegate={iterator:O(t),resultName:e,nextLoc:s},"next"===this.method&&(this.arg=r),w}}}function _(t,e,r,s){var n=e&&e.prototype instanceof N?e:N,i=Object.create(n.prototype),o=new L(s||[]);return i._invoke=$(t,r,o),i}function P(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(s){return{type:"throw",arg:s}}}function N(){}function C(){}function b(){}function x(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function S(t){function e(r,s,i,o){var a=P(t[r],t,s);if("throw"!==a.type){var c=a.arg,u=c.value;return u&&"object"===typeof u&&n.call(u,"__await")?Promise.resolve(u.__await).then(function(t){e("next",t,i,o)},function(t){e("throw",t,i,o)}):Promise.resolve(u).then(function(t){c.value=t,i(c)},function(t){return e("throw",t,i,o)})}o(a.arg)}var r;function s(t,s){function n(){return new Promise(function(r,n){e(t,s,r,n)})}return r=r?r.then(n,n):n()}this._invoke=s}function $(t,e,r){var s=l;return function(n,i){if(s===f)throw new Error("Generator is already running");if(s===p){if("throw"===n)throw i;return j()}r.method=n,r.arg=i;while(1){var o=r.delegate;if(o){var a=k(o,r);if(a){if(a===w)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(s===l)throw s=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);s=f;var c=P(t,e,r);if("normal"===c.type){if(s=r.done?p:h,c.arg===w)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(s=p,r.method="throw",r.arg=c.arg)}}}function k(t,e){var s=t.iterator[e.method];if(s===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,k(t,e),"throw"===e.method))return w;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return w}var n=P(s,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,w;var i=n.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,w):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,w)}function V(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(V,this),this.reset(!0)}function O(t){if(t){var e=t[o];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var s=-1,i=function e(){while(++s<t.length)if(n.call(t,s))return e.value=t[s],e.done=!1,e;return e.value=r,e.done=!0,e};return i.next=i}}return{next:j}}function j(){return{value:r,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},bbee:function(t,e,r){"use strict";var s=r("58ec"),n=r.n(s);n.a}}]);
//# sourceMappingURL=19.70882feb.js.map