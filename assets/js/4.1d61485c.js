(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"0035":function(e,t,o){"use strict";var i=o("b8fe"),a=o.n(i);a.a},"0c6a":function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"member"},[o("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[o("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),o("el-breadcrumb-item",[e._v("员工管理")]),o("el-breadcrumb-item",[e._v("员工列表")])],1),o("div",{staticClass:"search-people"},[o("el-input",{attrs:{placeholder:"请输入内容","prefix-icon":"el-icon-search",size:"small"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1),o("div",{staticClass:"tile clearfix"},[o("span",{staticClass:"ti bold"},[e._v(e._s(e.business?e.business:"未选择部门"))]),o("el-button",{staticClass:"bold control-btn",staticStyle:{color:"#000","margin-top":"4px","margin-left":"20px"},attrs:{type:"text"},on:{click:function(t){e.editOrganize("edit",e.business)}}},[o("i",{staticClass:"el-icon-edit"})]),e.business?o("el-button",{staticClass:"bold control-btn",staticStyle:{color:"#000","margin-top":"4px","margin-left":"20px"},attrs:{type:"text"},on:{click:function(t){e.editOrganize("add",null)}}},[e._v("添加子部门")]):e._e(),e.business?o("el-button",{staticClass:"fr",staticStyle:{"margin-top":"4px"},attrs:{type:"primary"},on:{click:function(t){e.editWorker("add",null)}}},[e._v("添加员工")]):e._e(),o("el-button",{staticClass:"fr bold control-btn",staticStyle:{color:"#000","margin-top":"4px","margin-right":"20px"},attrs:{type:"text"},on:{click:function(t){e.event.$emit("import-excel")}}},[e._v("批量导入")])],1),o("el-table",{attrs:{data:e.tableData,stripe:"",height:"620px"}},[o("el-table-column",{attrs:{prop:"checked",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-checkbox",{model:{value:t.row.checked,callback:function(o){e.$set(t.row,"checked",o)},expression:"scope.row.checked"}})]}}])}),o("el-table-column",{attrs:{prop:"name",label:"员工姓名",width:"100"}}),o("el-table-column",{attrs:{prop:"permission",label:"权限"}}),o("el-table-column",{attrs:{prop:"sex",label:"性别"}}),o("el-table-column",{attrs:{prop:"birth",label:"生日"}}),o("el-table-column",{attrs:{prop:"phone",label:"手机"}}),o("el-table-column",{attrs:{prop:"control",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{staticClass:"member-control editmember",attrs:{type:"text",size:"small"},on:{click:function(t){e.editWorker("edit",null)}}},[e._v("编辑")]),o("el-button",{staticClass:"member-control removemember",attrs:{type:"text",size:"small"},on:{click:function(t){e.deleteOne()}}},[e._v("移除")])]}}])})],1),o("div",{staticClass:"control"},[o("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),o("el-button",{staticClass:"bold control-btn",staticStyle:{color:"#000","margin-top":"4px","margin-left":"20px"},attrs:{type:"text"},on:{click:e.deleteSelect}},[e._v("移除")]),o("el-button",{staticClass:" fr bold control-btn",staticStyle:{color:"#000","margin-top":"4px","margin-left":"20px"},attrs:{type:"text"}},[e._v("全部导出")])],1),o("EditWorker"),o("EditOrganize"),o("ImportExcel")],1)},a=[],l=(o("ac6a"),o("be94")),n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"edit-worker"},[o("el-dialog",{attrs:{title:e.worker.type,visible:e.worker.edit,"before-close":e.handleClose,width:"730px"},on:{"update:visible":function(t){e.$set(e.worker,"edit",t)}}},[o("el-form",{staticStyle:{width:"600px",margin:"0 auto"},attrs:{model:e.worker.form}},[o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"员工姓名：","label-width":"90px"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.worker.form.name,callback:function(t){e.$set(e.worker.form,"name",t)},expression:"worker.form.name"}})],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"员工ID：","label-width":"90px"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.worker.form.ID,callback:function(t){e.$set(e.worker.form,"ID",t)},expression:"worker.form.ID"}})],1)],1)],1),o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"手机号码：","label-width":"90px"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.worker.form.phone,callback:function(t){e.$set(e.worker.form,"phone",t)},expression:"worker.form.phone"}})],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"员工邮箱：","label-width":"90px"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.worker.form.mail,callback:function(t){e.$set(e.worker.form,"mail",t)},expression:"worker.form.mail"}})],1)],1)],1),o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"员工性别：","label-width":"90px"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.worker.form.sex,callback:function(t){e.$set(e.worker.form,"sex",t)},expression:"worker.form.sex"}},e._l(e.worker.sexs,function(e){return o("el-option",{key:e.val,attrs:{label:e.label,value:e.val}})}))],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"入职时间：","label-width":"90px"}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"timestamp"},model:{value:e.worker.form.entry,callback:function(t){e.$set(e.worker.form,"entry",t)},expression:"worker.form.entry"}})],1)],1)],1),o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"员工生日：","label-width":"90px"}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"timestamp"},model:{value:e.worker.form.birth,callback:function(t){e.$set(e.worker.form,"birth",t)},expression:"worker.form.birth"}})],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"员工职位：","label-width":"90px"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.worker.form.position,callback:function(t){e.$set(e.worker.form,"position",t)},expression:"worker.form.position"}})],1)],1)],1),o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{label:"所属部门：","label-width":"90px"}},[o("el-cascader",{staticStyle:{width:"510px"},attrs:{options:e.options},model:{value:e.worker.form.oragnize,callback:function(t){e.$set(e.worker.form,"oragnize",t)},expression:"worker.form.oragnize"}})],1)],1)],1)],1),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:e.close}},[e._v("取消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.commitForm}},[e._v("确认")])],1)],1)],1)},r=[],s=o("2f62"),c={name:"edit-worker",data:function(){return{}},mounted:function(){},methods:{handleClose:function(e){this.$confirm("还未进行操作，确定关闭？").then(function(t){e()}).catch(function(e){})},commitForm:function(){console.log(this.worker.form)},close:function(){this.$store.dispatch("user-dialog/closeWorker")}},computed:Object(l["a"])({},Object(s["b"])("user-dialog",["options","worker"]))},p=c,m=(o("9768"),o("2877")),u=Object(m["a"])(p,n,r,!1,null,"3d73cd34",null);u.options.__file="edit-worker.vue";var f=u.exports,d=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"edit-organize"},[o("el-dialog",{attrs:{title:e.title,visible:e.organize.edit,"before-close":e.handleClose,width:"730px"},on:{"update:visible":function(t){e.$set(e.organize,"edit",t)}}},[o("el-form",{staticStyle:{width:"600px",margin:"0 auto"}},[o("el-form-item",{attrs:{label:"部门名称：","label-width":"90px"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.organize.name,callback:function(t){e.$set(e.organize,"name",t)},expression:"organize.name"}})],1)],1),o("div",{attrs:{slot:"footer"},slot:"footer"},[e.confirm?o("el-button",{on:{click:function(t){e.confirm=!1}}},[e._v("删除部门")]):o("el-button",{attrs:{type:"danger"},on:{click:function(t){e.close()}}},[e._v("确认删除")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.close()}}},[e._v("添加")])],1)],1)],1)},h=[],b=(o("7f7f"),{name:"edit-organize",data:function(){return{confirm:!0}},mounted:function(){},methods:{handleClose:function(e){this.$confirm("还未进行操作，确定关闭？").then(function(t){e()}).catch(function(e){})},close:function(){var e=this;this.confirm=!0,this.$alert("修改为了".concat(this.organize.name),"修改结果",{confirmButtonText:"确定",callback:function(t){e.$message({type:"info",message:"action: ".concat(t)})}}),this.$store.dispatch("user-dialog/closeOrganize")}},computed:Object(l["a"])({},Object(s["b"])("user-dialog",["options","organize"]),{title:function(){return"add"===this.organize.type?"新增子部门":"编辑部门名称"}})}),k=b,v=(o("6075"),Object(m["a"])(k,d,h,!1,null,"397c2130",null));v.options.__file="edit-organize.vue";var x=v.exports,g=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"import-excel"},[i("el-dialog",{attrs:{title:"批量导入员工信息",visible:e.input,"before-close":e.handleClose,width:"450px"},on:{"update:visible":function(t){e.input=t}}},[1===e.step?i("div",{staticClass:"import-step ac import-step-1"},[i("label",{staticClass:"noSet cursor upload-excel ac",attrs:{for:"uploadExcel"}},[e._v("上传表格\n                "),i("input",{attrs:{id:"uploadExcel",type:"file",accept:".csv"},on:{change:e.selectFile}})]),i("p",{staticStyle:{"line-height":"30px"}},[e._v("请上传.csv格式的员工表格")]),i("p",{staticStyle:{"line-height":"30px"}},[e._v("下载模板："),i("a",{staticStyle:{color:"#0090ff"},attrs:{href:"/demo.csv"}},[e._v("批量导入模板.csv")])])]):e._e(),2===e.step?i("div",{staticClass:"import-step ac import-step-2"},[i("img",{staticStyle:{display:"block"},attrs:{width:"120",src:o("7161"),alt:""}}),i("p",[e._v(e._s(e.fileName))]),i("div",{staticStyle:{"padding-top":"20px"}},[i("el-button",{attrs:{type:"primary"},on:{click:e.upLoadFile}},[e._v("确认上传")])],1)]):e._e(),3===e.step?i("div",{staticClass:"import-step ac import-step-3"},[i("img",{staticStyle:{display:"block"},attrs:{width:"120",src:o("7161"),alt:""}}),i("p",{staticStyle:{padding:"12px","font-weight":"bold"}},[e._v(e._s(e.fileName))]),i("div",{staticClass:"upload-err",staticStyle:{height:"100px",width:"250px"}},[i("p",[e._v(e._s(e.fileName))]),i("p",[e._v(e._s(e.fileName))]),i("p",[e._v(e._s(e.fileName))]),i("p",[e._v(e._s(e.fileName))]),i("p",[e._v(e._s(e.fileName))]),i("p",[e._v(e._s(e.fileName))]),i("p",[e._v(e._s(e.fileName))]),i("p",[e._v(e._s(e.fileName))])]),i("div",{staticStyle:{"padding-top":"20px"}},[i("el-button",{attrs:{type:"primary"},on:{click:e.upLoadFile}},[e._v("重新上传")])],1)]):e._e()])],1)},w=[],y={name:"import-excel",data:function(){return{input:!1,step:1,fileName:"员工通讯录.csv"}},mounted:function(){this.event.$on("import-excel",function(){this.input=!0}.bind(this))},methods:{handleClose:function(e){var t=this;this.$confirm("还未进行操作，确定关闭？").then(function(o){t.step=1,e()}).catch(function(e){})},selectFile:function(){this.fileName=window.document.getElementById("uploadExcel").files[0].name,this.step=2},upLoadFile:function(){var e=this,t=this.$loading({lock:!0,text:"上传中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});setTimeout(function(){t.close(),e.$notify({title:"成功",message:"导入成功",type:"success"}),e.step=3},2e3)}}},_=y,$=(o("9dc2"),Object(m["a"])(_,g,w,!1,null,"2f3ae6ad",null));$.options.__file="import-excel.vue";var C=$.exports,S={name:"member",metaInfo:{title:"用户管理",meta:[{name:"keywords",content:"福分通"},{name:"description",content:"专注企业员工福利"}]},components:{EditWorker:f,EditOrganize:x,ImportExcel:C},data:function(){return{keyword:"",tableData:[{checked:!0,name:"王老吉",permission:"管理员",sex:"男",birth:"1999-10-10",phone:"13888888888"},{checked:!0,name:"王老吉",permission:"子管理员",sex:"男",birth:"1999-10-10",phone:"13888888888"},{checked:!0,name:"王老吉",permission:"子管理员",sex:"男",birth:"1999-10-10",phone:"13888888888"},{checked:!0,name:"王老吉",permission:"子管理员",sex:"男",birth:"1999-10-10",phone:"13888888888"},{checked:!0,name:"王老吉",permission:"子管理员",sex:"男",birth:"1999-10-10",phone:"13888888888"},{checked:!0,name:"王老吉",permission:"子管理员",sex:"男",birth:"1999-10-10",phone:"13888888888"},{checked:!0,name:"王老吉",permission:"子管理员",sex:"男",birth:"1999-10-10",phone:"13888888888"}]}},computed:Object(l["a"])({isIndeterminate:function(){var e=[];return this.tableData.forEach(function(t){t.checked&&e.push(t.checked)}),0!==e.length&&e.length!==this.tableData.length},checkAll:{get:function(){var e=[];return this.tableData.forEach(function(t){t.checked&&e.push(t.checked)}),e.length===this.tableData.length},set:function(){this.checkAll?this.tableData.forEach(function(e,t){e.checked=!1}):this.tableData.forEach(function(e,t){e.checked=!0})}}},Object(s["b"])("memberList",["business"])),methods:{handleClick:function(e){this.event.$emit("edit-worker"),console.log(e)},editWorker:function(e,t){var o={type:e,id:t};this.$store.dispatch("user-dialog/initWorker",o)},editOrganize:function(e,t){var o={type:e,name:t};this.$store.dispatch("user-dialog/initOrganize",o)},upload:function(){this.$notify({title:"成功",message:"导入成功",type:"success"})},deleteSelect:function(){var e=this;this.$confirm("此操作将永久删除选中的员工, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$message({type:"success",message:"删除成功!"})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},deleteOne:function(){var e=this;this.$confirm("此操作将永久删除选中的员工, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$message({type:"success",message:"删除成功!"})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})}},mounted:function(){this.$store.dispatch("layout/SET_ASIDE","fault")},beforeDestroy:function(){this.$store.dispatch("layout/SET_ASIDE","default")}},z=S,E=(o("0035"),Object(m["a"])(z,i,a,!1,null,null,null));E.options.__file="member.vue";t["default"]=E.exports},"3c90":function(e,t,o){},6075:function(e,t,o){"use strict";var i=o("798c"),a=o.n(i);a.a},7161:function(e,t,o){e.exports=o.p+"assets/img/excel.5b1e5bf2.png"},"798c":function(e,t,o){},9768:function(e,t,o){"use strict";var i=o("fd87"),a=o.n(i);a.a},"9dc2":function(e,t,o){"use strict";var i=o("3c90"),a=o.n(i);a.a},b8fe:function(e,t,o){},fd87:function(e,t,o){}}]);
//# sourceMappingURL=4.1d61485c.js.map