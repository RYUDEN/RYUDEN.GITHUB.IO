webpackJsonp([1],{"+31+":function(t,e){},0:function(t,e,n){t.exports=n("msSN")},"097M":function(t,e){},"5e9e":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"state",function(){return r}),n.d(e,"mutations",function(){return a});var r=function(){return{enable:!0,type:"none",effect:"none"}},a={setType:function(t,e){t.type=e},setEffect:function(t,e){t.effect=e}}},"7b4Y":function(t,e){},CJsk:function(t,e){},IHzi:function(t,e){},LOWA:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"SET_PAGE_SCROLL_POSITION",function(){return s}),n.d(e,"state",function(){return c}),n.d(e,"mutations",function(){return u}),n.d(e,"actions",function(){return l});var r=n("bOdI"),a=n.n(r),o=n("Dd8w"),i=n.n(o),s="SET_PAGE_SCROLL_POSITION",c=function(){return{scrollPostionMap:{}}},u=a()({},s,function(t,e){var n=e.pageId,r=e.scrollPosition;t.scrollPostionMap=i()({},t.scrollPostionMap,a()({},n,r))}),l={savePageScrollPosition:function(t,e){var n=t.commit,r=e.pageId,a=e.scrollPosition;n(s,{pageId:r,scrollPosition:a})}}},UCDq:function(t,e){},Uz7q:function(t,e){t.exports={buildVersion:1528858425024,build:{ssr:!1,publicPath:"/",compress:!0,cssExtract:!0},middleware:{all:[],server:[],client:[]},router:{mode:"history",base:"/",pageTransition:{type:"fade",transitionClass:"fade"}},errorHandler:{defaultErrorMessage:"Internal Server Error",showRealErrorMessage:!1,errorPath:"/error"},serviceWorker:{swDest:"D:\\work\\hotel\\dist\\service-worker.js"},skeleton:{enable:!0,asyncCSS:!0}}},VfP6:function(t,e,n){var r={"./pageTransition.js":"5e9e","./scrollBehavior.js":"LOWA"};function a(t){return n(o(t))}function o(t){var e=r[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}a.keys=function(){return Object.keys(r)},a.resolve=o,t.exports=a,a.id="VfP6"},gHRC:function(t,e){},msSN:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,a=n("//Fk"),o=n.n(a),i=n("Gu7T"),s=n.n(i),c=n("Xxa5"),u=n.n(c),l=n("exGp"),f=n.n(l),p=n("/5sW"),h=n("1nuA"),d=(r=f()(u.a.mark(function t(e){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{});case 1:case"end":return t.stop()}},t,this)})),function(t){return r.apply(this,arguments)});function v(t,e){var n={isClient:!0,app:e,store:t.store,route:t.to,from:t.from},r=t.next;return n.params=n.route.params||{},n.query=n.route.query||{},n.redirect=function(t){var e=t.status,a=void 0===e?302:e,o=t.path,i=void 0===o?"":o,s=t.query,c=void 0===s?{}:s,u=t.external,l=void 0!==u&&u;n._redirected=!0,r({path:i,query:c,status:a,external:l})},n}var m,w=(m=f()(u.a.mark(function t(e,n){var r;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<e.length)){t.next=9;break}if(!n._redirected){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,y(e[r],n);case 6:r++,t.next=1;break;case 9:case"end":return t.stop()}},t,this)})),function(t,e){return m.apply(this,arguments)});function y(t,e){var n=void 0;return 2===t.length?n=new o.a(function(n,r){t(e,function(t,a){t?(e.error(t),r(t)):n(a)})}):(n=t(e))&&(n instanceof o.a||"function"==typeof n.then)||(n=o.a.resolve(n)),n}var _=n("Uz7q"),b=n.n(_),g=n("Dd8w"),x=n.n(g),P=n("p3jY"),T=n.n(P),E=n("/ocq"),k={name:"appshell",metaInfo:{title:"Lavas",meta:[{name:"keywords",content:"lavas PWA"},{name:"description",content:"基于 Vue 的 PWA 解决方案，帮助开发者快速搭建 PWA 应用，解决接入 PWA 的各种问题"}],bodyAttrs:{"empty-appshell":void 0}}},S=n("XyMi"),A=Object(S.a)(k,function(){var t=this.$createElement;return(this._self._c||t)("div")},[],!1,null,null,null).exports,C=n("fZjL"),I=n.n(C),O={name:"error",computed:{message:function(){return this.$route.params.error||"您访问的路径不存在"}},created:function(){var t=this.$route.query;0!==I()(t).length&&this.$router.replace({name:"error",params:t})}};var M=function(t){n("7b4Y")},$=Object(S.a)(O,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page-error"},[e("p",[this._v(this._s(this.message))])])},[],!1,M,"data-v-19a07bd8",null).exports;var j={name:"index",metaInfo:{title:"Home",titleTemplate:"%s - Lavas",meta:[{name:"keywords",content:"lavas PWA"},{name:"description",content:"基于 Vue 的 PWA 解决方案，帮助开发者快速搭建 PWA 应用，解决接入 PWA 的各种问题"}]},asyncData:function(){var t=f()(u.a.mark(function t(e){e.store,e.route;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()};var L=function(t){n("UCDq")},q=[{path:"/appshell",component:A,meta:{},name:"appshell"},{path:"/",component:Object(S.a)(j,function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page-index"},[e("h2",[this._v("LAqweqVAS")]),this._v(" "),e("h4",[this._v("[ˈlɑ:vəz]")])])}],!1,L,"data-v-4a0b086c",null).exports,meta:{},name:"index"},{path:"/error",component:$,meta:{},name:"error",alias:"*"}];p.a.use(E.a);var D=function(t,e,n){if(n)return n;var r={};return t.hash&&(r.selector=t.hash),t.matched.some(function(t){return t.meta.scrollToTop})&&(r.x=0,r.y=0),r},R=q.filter(function(t){return t.keepAlive||t.meta.keepAlive}).map(function(t){return t.name});var W=n("woOf"),B=n.n(W),U=n("BO1k"),V=n.n(U),N=n("NYxO");p.a.use(N.a);var H=n("VfP6"),Y=H.keys(),z={},F=!0,G=!1,X=void 0;try{for(var J,K=V()(Y);!(F=(J=K.next()).done);F=!0){var Z=J.value;if("./index.js"===Z){z=ut(Z);break}}}catch(t){G=!0,X=t}finally{try{!F&&K.return&&K.return()}finally{if(G)throw X}}if("function"!=typeof z){z.modules=z.modules||{};var Q=!0,tt=!1,et=void 0;try{for(var nt,rt=V()(Y);!(Q=(nt=rt.next()).done);Q=!0){var at=nt.value;if("./index.js"!==at){var ot=at.replace(/^\.\//,"").replace(/\.js$/,""),it=ot.split("/"),st=lt(z,it);st[ot=it.pop()]=ut(at),st[ot].namespaced=!0}}}catch(t){tt=!0,et=t}finally{try{!Q&&rt.return&&rt.return()}finally{if(tt)throw et}}}var ct=z instanceof Function?z:function(){return new N.a.Store(B()({},z,{state:z.state instanceof Function?z.state():{}}))};function ut(t){var e=H(t),n=e.default||e;if(n.commit)throw new Error("[lavas] store/"+t.replace("./","")+" should export a method which returns a Vuex instance.");if(n.state&&"function"!=typeof n.state)throw new Error("[lavas] state should be a function in store/"+t.replace("./",""));return n}function lt(t,e){if(1===e.length)return t.modules;var n=e.shift(),r=t.modules[n]=t.modules[n]||{};return r.namespaced=!0,r.modules=r.modules||{},lt(r,e)}var ft={name:"updateToast",props:{text:{type:String,default:"站点发生更新，请手动刷新"}},data:function(){return{show:!1}},mounted:function(){window.addEventListener("sw.update",this.handleUpdate)},beforeDestroy:function(){window.removeEventListener("sw.update",this.handleUpdate)},methods:{handleUpdate:function(t){this.show=!0},handleRefresh:function(){window.location.reload()}}};var pt=function(t){n("097M")};var ht=function(t){n("IHzi")},dt={name:"app",components:{UpdateToast:Object(S.a)(ft,function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"popup"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}],staticClass:"update-toast"},[e("span",[this._v(this._s(this.text))]),this._v(" "),e("span",{staticClass:"update-toast-close-btn",on:{click:this.handleRefresh}},[e("i",{staticClass:"iconfont icon-refresh"})])])])},[],!1,pt,"data-v-fc732238",null).exports,AppNavigation:Object(S.a)({name:"AppNavigation",data:function(){return{e31:!0,e1:"home"}}},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-bottom-nav",{staticClass:"nav-height",attrs:{app:"",color:"transparent",value:t.e31,active:t.e1},on:{"update:active":function(e){t.e1=e}}},[n("v-btn",{attrs:{flat:"",color:"red",value:"home"}},[n("span",[t._v("首页")]),t._v(" "),n("v-icon",[t._v("home")])],1),t._v(" "),n("v-btn",{attrs:{flat:"",color:"red",value:"shopping"}},[n("span",[t._v("已购")]),t._v(" "),n("v-icon",[t._v("shopping_cart")])],1),t._v(" "),n("v-btn",{attrs:{flat:"",color:"red",value:"user"}},[n("span",[t._v("我的")]),t._v(" "),n("v-icon",[t._v("person")])],1)],1)},[],!1,ht,"data-v-ca3b819c",null).exports},computed:x()({},Object(N.c)("pageTransition",{pageTransitionType:function(t){return t.type},pageTransitionEffect:function(t){return t.effect}}),Object(N.c)("scrollBehavior",{scrollPostionMap:function(t){return t.scrollPostionMap}}),{pageTransitionClass:function(){return"transition-"+this.pageTransitionType},routerViewKey:function(){var t=this.$route,e=t.name,n=t.params,r=I()(n);return r.length?e+r.reduce(function(t,e){return t+n[e]},""):null}}),data:function(){return{keepAlivePages:R}},methods:x()({},Object(N.b)("scrollBehavior",["savePageScrollPosition"]),{restoreContainerScrollPosition:function(t,e){t.classList.add("app-view-scroll-enabled"),t.scrollTop=e},restoreBodyScrollPosition:function(t,e){t.classList.remove("app-view-scroll-enabled"),document.body.scrollTop=document.documentElement.scrollTop=e},handleBeforeEnter:function(t){var e=this,n=t.dataset.pageId,r=(this.scrollPostionMap[n]||{}).y,a=void 0===r?0:r;p.a.nextTick(function(){e.restoreContainerScrollPosition(t,a)})},handleAfterEnter:function(t){var e=t.dataset.pageId,n=(this.scrollPostionMap[e]||{}).y,r=void 0===n?0:n;this.restoreBodyScrollPosition(t,r)},handleBeforeLeave:function(t){var e=t.dataset.pageId,n=document.body.scrollTop||document.documentElement.scrollTop;this.restoreContainerScrollPosition(t,n),this.savePageScrollPosition({pageId:e,scrollPosition:{y:n}})}})};var vt=function(t){n("gHRC")},mt=Object(S.a)(dt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:t.pageTransitionEffect},on:{"before-enter":t.handleBeforeEnter,"after-enter":t.handleAfterEnter,"before-leave":t.handleBeforeLeave}},[n("keep-alive",{attrs:{include:[].concat(t.keepAlivePages)}},[n("router-view",{key:t.routerViewKey,class:["app-view",t.pageTransitionClass],attrs:{"data-page-id":t.$route.fullPath}})],1)],1),t._v(" "),n("app-navigation"),t._v(" "),n("update-toast")],1)},[],!1,vt,null,null).exports,wt=n("3EgV"),yt=n.n(wt);p.a.use(T.a),p.a.use(yt.a),p.a.config.productionTip=!1;var _t={data:function(){return{percent:0,show:!1,canSuccess:!0,duration:3e3,height:"2px",color:"#ffca2b",failedColor:"#ff0000"}},methods:{start:function(){var t=this;return this.show=!0,this.canSuccess=!0,this._timer&&(clearInterval(this._timer),this.percent=0),this._cut=1e4/Math.floor(this.duration),this._timer=setInterval(function(){t.increase(t._cut*Math.random()),t.percent>95&&t.finish()},100),this},set:function(t){return this.show=!0,this.canSuccess=!0,this.percent=Math.floor(t),this},get:function(){return Math.floor(this.percent)},increase:function(t){return this.percent=this.percent+Math.floor(t),this},decrease:function(t){return this.percent=this.percent-Math.floor(t),this},finish:function(){return this.percent=100,this.hide(),this},pause:function(){return clearInterval(this._timer),this},hide:function(){var t=this;return clearInterval(this._timer),this._timer=null,setTimeout(function(){t.show=!1,t.$nextTick(function(){setTimeout(function(){t.percent=0},200)})},500),this},fail:function(){return this.canSuccess=!1,this}}};var bt=function(t){n("+31+")},gt=Object(S.a)(_t,function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"progress",style:{width:this.percent+"%",height:this.height,"background-color":this.canSuccess?this.color:this.failedColor,opacity:this.show?1:0}})},[],!1,bt,"data-v-e0e1a4fc",null).exports,xt=n("p5k0"),Pt=n.n(xt),Tt=n("XGXE"),Et=n.n(Tt);n("MU8w"),n("CJsk");Pt.a.shim(),Et.a.shim();var kt,St,At=p.a.prototype.$loading=new p.a(gt).$mount(),Ct=(kt=function(){var t=new E.a({mode:"history",base:"/",scrollBehavior:D,routes:q});return t.beforeEach(function(e,n,r){t.app.$store&&t.app.$store.state.pageTransition.enable&&(t.app.$store.commit("pageTransition/setType","fade"),t.app.$store.commit("pageTransition/setEffect","fade")),r()}),t}(),St=ct(),{App:p.a.extend(x()({router:kt,store:St},mt)),router:kt,store:St}),It=Ct.App,Ot=Ct.router,Mt=Ct.store,$t=b.a.build,jt=$t.ssr,Lt=$t.cssExtract,qt=b.a.middleware,Dt=void 0===qt?{}:qt,Rt=b.a.skeleton,Wt=Rt.enable,Bt=Rt.asyncCSS,Ut=void 0;window.__INITIAL_STATE__&&Mt.replaceState(window.__INITIAL_STATE__),"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual"),document.body.appendChild(At.$el),p.a.mixin({beforeRouteUpdate:function(){var t=f()(u.a.mark(function t(e,n,r){var a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(a=this.$options.asyncData)?(At.start(),a.call(this,{store:this.$store,route:e}).then(function(){At.finish(),r()}).catch(r)):r();case 2:case"end":return t.stop()}},t,this)}));return function(e,n,r){return t.apply(this,arguments)}}()});var Vt=!0;if(function(){var t=this;Ot.beforeEach((e=f()(u.a.mark(function e(n,r,a){var o,i,c,l,f,p,m;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Vt||n.path!==r.path){t.next=2;break}return t.abrupt("return",a());case 2:return Vt=!1,o=Ot.getMatchedComponents(n),i=[].concat(s()(Dt.all||[]),s()(Dt.client||[]),s()(o.filter(function(t){var e=t.middleware;return!!e}).reduce(function(t,e){var n=e.middleware;return t.concat(n)},[]))),t.next=7,d(i);case 7:if(c=t.sent,!(l=i.find(function(t){return"function"!=typeof c[t]}))){t.next=11;break}throw new Error("Unknown middleware "+l);case 11:return f=!1,p=v({to:n,from:r,store:Mt,next:function(t){if(At.finish&&At.finish(),!f){if(f=!0,t.external)return t.query=Object(h.stringify)(t.query),t.path=t.path+(t.query?"?"+t.query:""),window.location.replace(t.path),a();a(t)}}},Ut),m=i.map(function(t){return c[t]}),t.next=17,w(m,p);case 17:f||a();case 18:case"end":return t.stop()}},e,t)})),function(t,n,r){return e.apply(this,arguments)}));var e}(),!document.body.hasAttribute("empty-appshell")&&jt)Ut=new It,Ot.onReady(function(){Ht(),Ut.$mount("#app")});else{var Nt=Wt&&Bt&&Lt;window.mountLavas=function(){setTimeout(function(){var t=document.querySelector("#app");t&&(t.innerHTML=""),Ut.$mount("#app")},0)},Ht(),Ut=new It,(jt||!Nt||Nt&&window.STYLE_READY)&&window.mountLavas()}function Ht(){var t=this;Ot.beforeResolve(function(e,n,r){var a,i=Ot.getMatchedComponents(e),s=Ot.getMatchedComponents(n),c=!1,l=i.filter(function(t,e){return c||(c=s[e]!==t)});if(!l.length)return r();At.start(),o.a.all(l.filter(function(t){return t.asyncData&&(!t.asyncDataFetched||!e.meta.keepAlive)}).map((a=f()(u.a.mark(function n(r){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.asyncData({store:Mt,route:e});case 2:r.asyncDataFetched=!0;case 3:case"end":return t.stop()}},n,t)})),function(t){return a.apply(this,arguments)}))).then(function(){At.finish(),r()}).catch(r)})}}},[0]);
//# sourceMappingURL=index.390079b9.js.map