webpackJsonp([1],{"+U3S":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),a.d(e,"SET_APP_NAVIGATION",function(){return r}),a.d(e,"state",function(){return c}),a.d(e,"mutations",function(){return u}),a.d(e,"actions",function(){return l});var i=a("bOdI"),n=a.n(i),s=a("Dd8w"),o=a.n(s),r="SET_APP_NAVIGATION",c=function(){return{showNavigation:!0,login:!1}},u=n()({},r,function(t,e){t=o()(t,e)}),l={setAppNavigation:function(t,e){(0,t.commit)(r,e)}}},"/626":function(t,e){},"/JOa":function(t,e){},"/jPw":function(t,e){},"/kfi":function(t,e){},0:function(t,e,a){t.exports=a("msSN")},"0whv":function(t,e){},"2pXF":function(t,e){},"3JWO":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),a.d(e,"SET_PAGE_SWITCHING",function(){return c}),a.d(e,"SET_PAGE_SCROLL_POSITION",function(){return u}),a.d(e,"state",function(){return l}),a.d(e,"mutations",function(){return d}),a.d(e,"actions",function(){return p});var i,n=a("bOdI"),s=a.n(n),o=a("Dd8w"),r=a.n(o),c="SET_PAGE_SWITCHING",u="SET_PAGE_SCROLL_POSITION",l=function(){return{isPageSwitching:!1,scrollPostionMap:{}}},d=(i={},s()(i,c,function(t,e){t.isPageSwitching=e}),s()(i,u,function(t,e){var a=e.pageId,i=e.scrollPosition;t.scrollPostionMap=r()({},t.scrollPostionMap,s()({},a,i))}),i),p={setPageSwitching:function(t,e){(0,t.commit)(c,e)},savePageScrollPosition:function(t,e){var a=t.commit,i=e.pageId,n=e.scrollPosition;a(u,{pageId:i,scrollPosition:n})}}},"3TcT":function(t,e){},"4bmX":function(t,e){},"5e9e":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),a.d(e,"state",function(){return i}),a.d(e,"mutations",function(){return n});var i=function(){return{enable:!0,type:"none",effect:"none"}},n={setType:function(t,e){t.type=e},setEffect:function(t,e){t.effect=e}}},"5pOL":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),a.d(e,"SHOPPING_CART",function(){return r}),a.d(e,"state",function(){return c}),a.d(e,"mutations",function(){return u}),a.d(e,"actions",function(){return l});var i=a("bOdI"),n=a.n(i),s=a("Dd8w"),o=a.n(s),r="SHOPPING_CART",c=function(){return{cart:[]}},u=n()({},r,function(t,e){t=o()(t,e)}),l={setShoppingCart:function(t,e){(0,t.commit)(r,e)}}},"6nfk":function(t,e){},"7Ocu":function(t,e){},"90VL":function(t,e){},"9DHQ":function(t,e){},BCfr:function(t,e){},BPhj:function(t,e){},CJsk:function(t,e){},CXGT:function(t,e){},D3L1:function(t,e){},EgqX:function(t,e){},Es2A:function(t,e){},FbEL:function(t,e){},GCLr:function(t,e){},"HNa/":function(t,e){},IaLg:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),a.d(e,"SET_SIDEBAR_VISIBILITY",function(){return n}),a.d(e,"state",function(){return s}),a.d(e,"mutations",function(){return o}),a.d(e,"actions",function(){return r});var i=a("bOdI"),n="SET_SIDEBAR_VISIBILITY",s=function(){return{show:!1,title:{imageLeft:"",altLeft:"",iconLeft:"home",text:"福分通",imageRight:"",altRight:"",iconRight:""},blocks:[{sublistTitle:"Sublist1",list:[{text:"Detail Page 1",icon:"sentiment_satisfied",route:"/detail/1"},{text:"Detail Page 2",image:"https://github.com/google/material-design-icons/blob/master/social/2x_web/ic_mood_bad_black_48dp.png?raw=true",alt:"mood-bad",route:"/detail/2"},{text:"Detail Page 3",icon:"sentiment_neutral",route:"/detail/3"}]}]}},o=a.n(i)()({},n,function(t,e){t.show=e}),r={showSidebar:function(t){(0,t.commit)(n,!0)},hideSidebar:function(t){(0,t.commit)(n,!1)}}},JLzs:function(t,e){},Jfi4:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),a.d(e,"SET_APP_HEADER",function(){return r}),a.d(e,"state",function(){return c}),a.d(e,"mutations",function(){return u}),a.d(e,"actions",function(){return l});var i=a("bOdI"),n=a.n(i),s=a("Dd8w"),o=a.n(s),r="SET_APP_HEADER",c=function(){return{show:!0,title:"福分通",logoIcon:"home",showMenu:!0,showBack:!1,showLogo:!1,func:!0,control:!1,actions:{icon:"home",route:"/home"}}},u=n()({},r,function(t,e){t=o()(t,e)}),l={setAppHeader:function(t,e){(0,t.commit)(r,e)}}},JoMb:function(t,e){},LGiM:function(t,e){},NO4I:function(t,e){},NOHZ:function(t,e){},P0ba:function(t,e){},RRex:function(t,e){},SAX2:function(t,e){},U1WS:function(t,e){},UubL:function(t,e){},Uz7q:function(t,e){t.exports={buildVersion:1532942327156,build:{ssr:!1,publicPath:"/",compress:!0,cssExtract:!0},middleware:{all:[],server:[],client:[]},router:{mode:"history",base:"/",pageTransition:{type:"slide",transitionClass:"slide"}},errorHandler:{defaultErrorMessage:"Internal Server Error",showRealErrorMessage:!1,errorPath:"/error"},serviceWorker:{swDest:"D:\\work\\mfft-pwa\\dist\\service-worker.js"},skeleton:{enable:!0,asyncCSS:!0,routes:[{path:"*",componentPath:"core/Skeleton.vue"}]}}},VfP6:function(t,e,a){var i={"./appShell/appHeader.js":"Jfi4","./appShell/appNavigation.js":"+U3S","./appShell/appSidebar.js":"IaLg","./appShell/common.js":"3JWO","./cart.js":"5pOL","./exchange.js":"hZ7q","./pageTransition.js":"5e9e"};function n(t){return a(s(t))}function s(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}n.keys=function(){return Object.keys(i)},n.resolve=s,t.exports=n,n.id="VfP6"},"X+/r":function(t,e){},"X05+":function(t,e){},XC5Q:function(t,e){},ZksH:function(t,e){},ZpnN:function(t,e){},acBN:function(t,e){},biFm:function(t,e){},eSmZ:function(t,e){},fHip:function(t,e){},gHRC:function(t,e){},h1Lk:function(t,e){},hZ7q:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),a.d(e,"EXCHANGE",function(){return r}),a.d(e,"state",function(){return c}),a.d(e,"mutations",function(){return u}),a.d(e,"actions",function(){return l});var i=a("bOdI"),n=a.n(i),s=a("Dd8w"),o=a.n(s),r="EXCHANGE",c=function(){return{exc:{exchange:"10.00",has_custom_price:0,unit:"积分"}}},u=n()({},r,function(t,e){t=o()(t,e)}),l={setEx:function(t,e){(0,t.commit)(r,e)}}},hbix:function(t,e){},i4XA:function(t,e){},jwcl:function(t,e){},kP4z:function(t,e){},kVeV:function(t,e){},kntn:function(t,e){},lQzQ:function(t,e){},lThp:function(t,e){},mSJt:function(t,e){},msSN:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,n=a("//Fk"),s=a.n(n),o=a("Gu7T"),r=a.n(o),c=a("Xxa5"),u=a.n(c),l=a("exGp"),d=a.n(l),p=a("/5sW"),h=a("1nuA"),v=(i=d()(u.a.mark(function t(e){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{});case 1:case"end":return t.stop()}},t,this)})),function(t){return i.apply(this,arguments)});function f(t,e){var a={isClient:!0,app:e,store:t.store,route:t.to,from:t.from},i=t.next;return a.params=a.route.params||{},a.query=a.route.query||{},a.redirect=function(t){var e=t.status,n=void 0===e?302:e,s=t.path,o=void 0===s?"":s,r=t.query,c=void 0===r?{}:r,u=t.external,l=void 0!==u&&u;a._redirected=!0,i({path:o,query:c,status:n,external:l})},a}var m,_=(m=d()(u.a.mark(function t(e,a){var i;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<e.length)){t.next=9;break}if(!a._redirected){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,g(e[i],a);case 6:i++,t.next=1;break;case 9:case"end":return t.stop()}},t,this)})),function(t,e){return m.apply(this,arguments)});function g(t,e){var a=void 0;return 2===t.length?a=new s.a(function(a,i){t(e,function(t,n){t?(e.error(t),i(t)):a(n)})}):(a=t(e))&&(a instanceof s.a||"function"==typeof a.then)||(a=s.a.resolve(a)),a}var y=a("Uz7q"),w=a.n(y),x=a("Dd8w"),b=a.n(x),k=a("p3jY"),C=a.n(k),$=a("mvHQ"),S=a.n($),N=a("pFYg"),A=a.n(N),P=a("/ocq"),I=a("NYxO");function E(t){t.dispatch("appShell/appHeader/setAppHeader",{show:!0,title:"商品详情",showMenu:!0,showBack:!0,showLogo:!1,func:!1,actions:{icon:"home",route:"home"}}),t.dispatch("appShell/appNavigation/setAppNavigation",{showNavigation:!1})}var T={name:"index",metaInfo:{title:"商品详情",titleTemplate:"%s - 福分通",meta:[{name:"keywords",content:"福分通"},{name:"description",content:"专注企业员工福利"}]},asyncData:function(){var t=d()(u.a.mark(function t(e){var a=e.store;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:E(a);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),activated:function(){E(this.$store)},data:function(){return{url:"http://admin.fufentong.cn/media/upload",testUrl:/http:\/\//i,img:"",cache:0,city:this.$route.params.city,details:{like:0,selectNum:1,product_name:"",default_img:"",product_jifen:"0",product_id:""},html:""}},created:function(){this.getDetail()},mounted:function(){},methods:{add:function(t){var e=this,a={product_id:t,status:0,nums:1};this.yum("api/member/addCart",a,this.city).then(function(t){if(200===t.status){e.bus.$emit("notice",{text:t.data.msg});var a={exchange:t.data.exchange,has_custom_price:t.data.has_custom_price,unit:t.data.unit};e.$store.dispatch("exchange/setEx",{exc:a})}else e.bus.$emit("notice",{text:"网络错误"})})},exchange:function(){var t=[this.details],e=this.$route.params.city;this.login?(this.$store.dispatch("cart/setShoppingCart",{cart:t}),this.$router.push("/"+e+"/shopping/account")):(this.bus.$emit("notice",{text:"请登陆！"}),this.$router.push("/"+e+"/login"))},setNum:function(t){t>=0?this.details.selectNum=this.details.selectNum+t:this.details.selectNum>0&&(this.details.selectNum=this.details.selectNum+t)},addLike:function(){var t=this;if(this.login)if(0===this.details.like){this.details.like=1;var e={product_id:this.details.product_id};this.yum("api/member/collect",e,this.city).then(function(e){e.data.status,t.bus.$emit("notice",{text:e.data.msg})})}else{this.details.like=0;var a={product_id:this.details.product_id};this.yum("api/member/delCollect",a,this.city).then(function(e){t.bus.$emit("notice",{text:e.data.msg})})}else this.bus.$emit("notice",{text:"请登陆"})},routerJump:function(){this.$route.params.city?this.$router.push("/"+this.$route.params.city+"/home"):this.$router.push("/home")},getDetail:function(){var t=this,e=this.$route.params.id;this.yum("api/Product/getGoodsInfo",{product_id:e},this.city).then(function(e){var a=e.data.data[0];if(200===e.data.status){t.details=b()(t.details,a);var i={exchange:e.data.exchange,has_custom_price:e.data.has_custom_price,unit:e.data.unit};t.$store.dispatch("exchange/setEx",{exc:i})}else t.bus.$emit("notice",{text:e.data.msg}),t.routerJump()}).catch(function(e){t.bus.$emit("notice",{text:"未知错误！"}),t.routerJump()})}},computed:b()({},Object(I.c)("exchange",{exc:function(t){return t.exc}}),Object(I.c)("appShell/appNavigation",["showNavigation","login"]))},O=a("XyMi");var j=function(t){a("kntn")},L=Object(O.a)(T,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail-wrapper"},[a("div",{staticClass:"details"},[a("div",{staticClass:"goodImg"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.testUrl.test(t.details.default_img)?t.details.default_img:t.url+t.details.default_img,expression:"testUrl.test(details.default_img)?details.default_img:url+details.default_img"}]})]),t._v(" "),a("div",{staticClass:"good"},[a("P",{staticClass:"good-name"},[t._v(t._s(t.details.product_name))]),t._v(" "),a("P",{staticClass:"good-price"},[a("i",{staticClass:"material-icons"},[t._v("loyalty")]),t._v(t._s(t._f("exch")(t.details,t.exc))+t._s(t.exc.unit))]),t._v(" "),a("div",{staticClass:"good-num"},[a("span",[t._v("兑换数量：")]),t._v(" "),a("i",{staticClass:"material-icons",on:{click:function(e){t.setNum(-1)}}},[t._v("remove")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.details.selectNum,expression:"details.selectNum"}],attrs:{type:"number"},domProps:{value:t.details.selectNum},on:{input:function(e){e.target.composing||t.$set(t.details,"selectNum",e.target.value)}}}),a("i",{staticClass:"material-icons",on:{click:function(e){t.setNum(1)}}},[t._v("add")])])],1),t._v(" "),a("div",{staticClass:"code"},[t._v("\n            德诚编码："+t._s(t.details.dc_code)+"\n        ")]),t._v(" "),a("div",{staticClass:"good-info"},[a("ul",[a("li",[t._v("品牌："+t._s(t.details.brand_name))]),t._v(" "),a("li",[t._v("规格："+t._s(t.details.colorname))]),t._v(" "),a("li",[t._v("型号："+t._s(t.details.product_code))]),t._v(" "),a("li",[t._v("礼品编号："+t._s(t.details.product_id))])])]),t._v(" "),a("div",{staticClass:"detail-part"},[a("div",{staticClass:"detail-type"},[a("v-layout",[a("v-flex",{attrs:{xs6:""}},[a("div",[t._v("图文详情")])]),t._v(" "),a("v-flex",{attrs:{xs6:""}},[a("div",[t._v("礼品评论")])])],1)],1),t._v(" "),a("style",[t._v("\n                .detail-content{\n                    position: relative;\n                    width: 100vw;\n                    overflow: scroll;\n                }\n                .detail-content img{\n                    width: 100vw;\n                    display: block;\n                }\n            ")]),t._v(" "),a("div",{ref:"detail",staticClass:"detail-content",domProps:{innerHTML:t._s(t.details.product_info)}})])]),t._v(" "),a("div",{staticClass:"footBar"},[a("v-layout",[a("v-flex",{staticClass:"price",attrs:{xs4:""}},[a("i",{staticClass:"material-icons"},[t._v("loyalty")]),t._v(t._s(t._f("exch")(t.details,t.exc))+t._s(t.exc.unit))]),t._v(" "),a("v-flex",{staticClass:"like",attrs:{xs2:""},on:{click:t.addLike}},[t.details.like?a("i",{staticClass:"material-icons"},[t._v("favorite")]):a("i",{staticClass:"material-icons"},[t._v("favorite_border")]),t._v(" "),a("br"),t._v("关注")]),t._v(" "),a("v-flex",{staticClass:"add",attrs:{xs3:""},on:{click:function(e){t.add(t.details.product_id)}}},[t._v("加入兑换袋")]),t._v(" "),a("v-flex",{staticClass:"exchangeNow",attrs:{xs3:""},on:{click:t.exchange}},[t._v("立即兑换")])],1)],1)])},[],!1,j,"data-v-557bb156",null).exports,H=a("fZjL"),D=a.n(H),M={name:"error",computed:{message:function(){return this.$route.params.error||"您访问的路径不存在"}},created:function(){var t=this.$route.query;0!==D()(t).length&&this.$router.replace({name:"error",params:t})},activated:function(){this.bus.$emit("notice",{text:"页面错误"})},methods:{getRandom:function(t,e){var a=Math.random()*(e-t),i=Math.round(a+t);return i=Math.max(Math.min(i,e),t)}}};var B=function(t){a("CXGT")},U=Object(O.a)(M,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-error"},[a("v-card",[a("v-card-media",{attrs:{src:"http://www.fufentong.cn/webskin/Common/images/404_r.png",height:"200px"}}),t._v(" "),a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h3",{staticClass:"headline mb-0"},[t._v("没有找到您想要的页面QAQ")]),t._v(" "),a("div",[t._v("您要查找的网址可能已被删除或者暂时不可用 "),a("br"),t._v("以下链接继续浏览网站 ...")])])]),t._v(" "),a("v-card-actions",[a("v-btn",{attrs:{flat:"",color:"black"}},[t._v("首页")]),t._v(" "),a("v-btn",{attrs:{flat:"",color:"black"}},[t._v("热门商品")])],1)],1)],1)},[],!1,B,"data-v-1758210a",null).exports,q={name:"GoodsList",props:{list:"",index:""},data:function(){return{city:this.$route.params.city,url:"http://admin.fufentong.cn/media/upload",testUrl:/http:\/\//i,loadPage:!1,notEnd:!0,page:this.index}},created:function(){var t=this;this.bus.$on("loadOff",function(e){t.loadPage=e}),this.bus.$on("pageEnd",function(e){t.notEnd=e}),this.bus.$on("filter",function(e){t.page=e})},activated:function(){window.addEventListener("scroll",this.onScroll)},deactivated:function(){window.removeEventListener("scroll",this.onScroll)},computed:b()({},Object(I.c)("exchange",{exc:function(t){return t.exc}})),methods:{getDetail:function(t){this.$router.push(t)},onScroll:function(){document.querySelector(".goodBox").clientHeight-(window.innerHeight+(window.pageYOffset||document.documentElement.scrollTop))<=0&&this.notEnd&&this.load()},addCart:function(t){var e=this,a={product_id:t,status:0,nums:1};this.yum("api/member/addCart",a,this.city).then(function(t){200===t.status?e.bus.$emit("notice",{text:t.data.msg}):e.bus.$emit("notice",{text:"网络错误"})})},load:function(){this.loadPage||(this.loadPage=!0,this.page+=1,this.bus.$emit("load",this.page))}}};var R=function(t){a("NO4I")},V=Object(O.a)(q,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"goodBox"},[t._l(t.list,function(e){return a("div",{staticClass:"itemBox",on:{click:function(a){t.getDetail({path:"detail/"+e.product_id,query:e.product_id})}}},[a("div",{staticClass:"itemImgBox"},[a("img",{attrs:{src:t.testUrl.test(e.default_img)?e.default_img:t.url+e.default_img}})]),t._v(" "),a("div",{staticClass:"itemDetailBox"},[a("p",{staticClass:"goodTitle"},[t._v(t._s(e.product_name))]),t._v(" "),a("div",{staticClass:"goods-details"}),t._v(" "),a("span",{staticClass:"Points"},[t._v(t._s(t._f("exch")(e,t.exc))+t._s(t.exc.unit))]),t._v(" "),a("i",{staticClass:"material-icons add-like",on:{click:function(a){a.stopPropagation(),t.addCart(e.product_id)}}},[t._v("\n                shopping_basket\n            ")])])])}),t._v(" "),a("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:t.loadPage,expression:"loadPage"}],attrs:{indeterminate:"",color:"red"}})],2)},[],!1,R,"data-v-36349a0c",null).exports;function J(t){t.dispatch("appShell/appHeader/setAppHeader",{show:!0,title:"产品上新",showMenu:!0,showBack:!1,showLogo:!1,func:!1,actions:{icon:"search",route:"search"}}),t.dispatch("appShell/appNavigation/setAppNavigation",{showNavigation:!0})}var G={name:"grade",metaInfo:{title:"产品列表",titleTemplate:"%s - 福分通",meta:[{name:"keywords",content:"福分通"},{name:"description",content:"专注企业员工福利"}]},components:{GoodsList:V},data:function(){return{selected:"默认",page:1,type:"",order:"",city:this.$route.params.city,filter:[{text:"默认",action:{type:0}},{text:"积分",action:{type:1,order:"desc"}},{text:"销量",action:{type:2,order:"desc"}},{text:"时间",action:{type:3,order:"desc"}}],lists:[]}},created:function(){var t=this;this.bus.$on("load",function(e){t.getlist(e,t.cid,t.type,t.order)}),this.bus.$on("update-list",function(e){t.updatelist(e)})},computed:{cid:{get:function(){return this.$route.query.id},set:function(){}}},methods:{updatelist:function(t){this.cid=t,this.getlist(this.page,t,this.type,this.order)},select:function(t){t.text===this.selected?("desc"===t.action.order?t.action.order="asc":t.action.order="desc",this.order=t.action.order,this.getlist(this.page,this.cid,this.type,this.order)):(this.selected=t.text,this.type=t.action.type,this.order="desc",this.$vuetify.goTo(0,{duration:0,offset:0,easing:"easeInOutCubic"}),this.bus.$emit("filter",this.page),this.getlist(this.page,this.cid,this.type,this.order))},getlist:function(t,e,a,i){var n=this,s={page:t||1,cid:e||"",type:a||"",order:i||""};this.yum("api/Product/getGoodsList",s,this.city).then(function(t){if(200===t.data.status){var e={exchange:t.data.exchange,has_custom_price:t.data.has_custom_price,unit:t.data.unit};if(n.$store.dispatch("exchange/setEx",{exc:e}),1===s.page)n.lists=t.data.data.list,n.bus.$emit("pageEnd",!0);else{n.lists=n.lists.concat(t.data.data.list);var a=n;setTimeout(function(){a.bus.$emit("loadOff",!1)},1e3)}}else n.bus.$emit("notice",{text:t.data.msg}),n.bus.$emit("loadOff",!1),n.bus.$emit("pageEnd",!1)})}},asyncData:function(){var t=d()(u.a.mark(function t(e){var a=e.store;e.route;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:J(a);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),activated:function(){this.getlist(this.page,this.cid,this.type,this.order),J(this.$store);var t=this.$route.query.name||"产品上新";this.$store.dispatch("appShell/appHeader/setAppHeader",{title:t})}};var z=function(t){a("D3L1")},X=Object(O.a)(G,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"goods"},[a("div",{staticClass:"filter"},[a("v-layout",t._l(t.filter,function(e){return a("v-flex",{key:e.text,class:{active:t.selected===e.text},attrs:{xs3:""},on:{click:function(a){t.select(e)}}},[t._v(t._s(e.text))])}))],1),t._v(" "),a("goods-list",{attrs:{list:t.lists,index:t.page}})],1)])},[],!1,z,"data-v-28b63cd0",null).exports,Q={name:"cri",props:{banner:""},data:function(){return{url:"http://www.fufentong.cn/media/upload",testUrl:/http:\/\//i,index:0}},methods:{detail:function(t){var e=t.banner_wap_link.replace(/[^0-9]+/g,"");this.$router.push("detail/"+e)},run:function(){var t=this;setInterval(function(){t.index<t.banner.length-1?t.index+=1:t.index=0},5e3)}},created:function(){this.run()},computed:{}};var F=function(t){a("i4XA")};function W(t){t.dispatch("appShell/appHeader/setAppHeader",{show:!0,title:"福分通",showMenu:!0,showBack:!1,showLogo:!1,func:!1,actions:{icon:"search",route:"search"}}),t.dispatch("appShell/appNavigation/setAppNavigation",{showNavigation:!0})}var Y={name:"home",components:{cri:Object(O.a)(Q,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ul",{staticClass:"caro"},t._l(t.banner,function(e,i){return a("li",{key:e.banner_name,staticClass:"caro-item"},[a("transition",{attrs:{name:"fade"}},[i===t.index?a("div",{staticClass:"caro-item-box"},[a("img",{attrs:{src:t.testUrl.test(e.banner_img)?e.banner_img:t.url+e.banner_img,alt:""},on:{click:function(a){t.detail(e)}}})]):t._e()])],1)}))])},[],!1,F,"data-v-e0a244d8",null).exports},data:function(){return{errImg:'this.src="../../static/img/icons/192.png"',city:this.$route.params.city,url:"http://admin.fufentong.cn/media/upload",testUrl:/http:\/\//i,bannerData:[],sift:[],hot:[],news:[]}},metaInfo:{title:"首页",titleTemplate:"%s - 福分通",meta:[{name:"keywords",content:"福分通"},{name:"description",content:"福分通的 PWA 解决方案，解决接入 PWA 的各种问题"}]},methods:{Detail:function(t){var e=t.banner_wap_link.replace(/[^0-9]+/g,"");e>1e3&&this.$router.push("detail/"+e)},goDetail:function(t){this.$router.push(t)},toPage:function(t){this.$router.push(t),this.bus.$emit("changeNav",t)},getBanner:function(){var t=this;this.yum("api/index/getBannerList","",this.city).then(function(e){var a={exchange:e.data.exchange,has_custom_price:e.data.has_custom_price,unit:e.data.unit};if(t.$store.dispatch("exchange/setEx",{exc:a}),200===e.data.status){var i=e.data.data;t.bannerData=i.bannerData,t.sift=i.sift}else t.bus.$emit("notice",{text:e.data.msg})}).catch(function(e){t.bus.$emit("notice",{text:"网络错误"})})},getGoods:function(){var t=this;this.yum("api/index/getIndexGoods","",this.city).then(function(e){200===e.data.status?(t.news=e.data.data.news,t.hot=e.data.data.hot):t.bus.$emit("notice",{text:e.data.msg})}).catch(function(t){console.log(t)})},tjgouwuche:function(t){var e=this,a={product_id:t,status:0,nums:1};this.yum("api/member/addCart",a,this.city).then(function(t){t.status,e.bus.$emit("notice",{text:t.data.msg})})}},created:function(){this.getBanner(),this.getGoods()},computed:b()({},Object(I.c)("exchange",{exc:function(t){return t.exc}})),asyncData:function(){var t=d()(u.a.mark(function t(e){var a=e.store;e.route;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:W(a);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),activated:function(){var t=this;W(this.$store),this.yum("api/business/getCurrentBusiness","",this.city).then(function(e){200===e.data.status&&t.$store.dispatch("appShell/appHeader/setAppHeader",{title:e.data.data.business_name})})}};var Z=function(t){a("Es2A")},K=Object(O.a)(Y,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"home-content"},[a("cri",{attrs:{banner:t.bannerData}}),t._v(" "),a("v-layout",{staticClass:"sorts"},[a("v-flex",{attrs:{xs3:""}},[a("a",{on:{click:function(e){t.toPage("product")}}},[a("img",{attrs:{src:"http://www.fufentong.cn/webskin/Wap/images/class1.png",alt:"商品分类"}}),a("p",[t._v("商品分类")])])]),t._v(" "),a("v-flex",{attrs:{xs3:""}},[a("a",{on:{click:function(e){t.toPage("grade")}}},[a("img",{attrs:{src:"http://www.fufentong.cn/webskin/Wap/images/class2.png",alt:"商品中心"}}),a("p",[t._v("商品中心")])])]),t._v(" "),a("v-flex",{attrs:{xs3:""}},[a("a",{on:{click:function(e){t.toPage("grade")}}},[a("img",{attrs:{src:"http://www.fufentong.cn/webskin/Wap/images/class3.png",alt:"爆款专区"}}),a("p",[t._v("爆款专区")])])]),t._v(" "),a("v-flex",{attrs:{xs3:""}},[a("a",{on:{click:function(e){t.toPage("grade")}}},[a("img",{attrs:{src:"http://www.fufentong.cn/webskin/Wap/images/class4.png",alt:"我能兑换"}}),a("p",[t._v("我能兑换")])])])],1),t._v(" "),t._m(0),t._v(" "),a("v-layout",{staticClass:"product"},t._l(t.sift,function(e){return a("v-flex",{key:e.id,attrs:{xs6:""}},[a("img",{attrs:{width:"100%",height:"100%",onerror:t.errImg,src:t.testUrl.test(e.banner_img)?e.banner_img:"http://www.fufentong.cn/media/upload"+e.banner_img,alt:e.id},on:{click:function(a){t.Detail(e)}}})])})),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"goods-box"},t._l(t.news,function(e){return a("div",{staticClass:"goods-item",on:{click:function(a){t.goDetail({path:"detail/"+e.product_id,query:e.product_id})}}},[a("a",[a("img",{staticClass:"goodImg",attrs:{onerror:t.errImg,src:t.testUrl.test(e.default_img)?e.default_img:t.url+e.default_img,alt:"i.product_name"}})]),t._v(" "),a("a",{staticClass:"link-title",on:{click:function(a){t.goDetail(e.product_id)}}},[t._v(t._s(e.product_name))]),t._v(" "),a("div",{staticClass:"goods-details"},[a("span",[a("i",{staticClass:"material-icons"},[t._v("loyalty")]),t._v(t._s(t._f("exch")(e,t.exc))+t._s(t.exc.unit))]),t._v(" "),a("a",{staticClass:"tjgouwuche",on:{click:function(a){a.stopPropagation(),t.tjgouwuche(e.product_id)}}},[a("img",{attrs:{src:"http://www.fufentong.cn/webskin/Wap/images/addto.png"}})])])])})),t._v(" "),t._m(2),t._v(" "),a("div",{staticClass:"goods-box"},t._l(t.hot,function(e){return a("div",{staticClass:"goods-item",on:{click:function(a){t.goDetail({path:"detail/"+e.product_id,query:e.product_id})}}},[a("a",[a("img",{staticClass:"goodImg",attrs:{onerror:t.errImg,src:t.testUrl.test(e.default_img)?e.default_img:t.url+e.default_img,alt:"p.product_name"}})]),t._v(" "),a("a",{staticClass:"link-title"},[t._v(t._s(e.product_name))]),t._v(" "),a("div",{staticClass:"goods-details"},[a("span",[a("i",{staticClass:"material-icons"},[t._v("loyalty")]),t._v(t._s(t._f("exch")(e,t.exc))+t._s(t.exc.unit))]),t._v(" "),a("div",{staticClass:"tjgouwuche",on:{click:function(a){a.stopPropagation(),t.tjgouwuche(e.product_id)}}},[a("img",{attrs:{src:"http://www.fufentong.cn/webskin/Wap/images/addto.png"}})])])])}))],1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("div",{staticClass:"title-box"},[this._v("精选商品")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("div",{staticClass:"title-box"},[this._v("最新上线")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("div",{staticClass:"title-box"},[this._v("热销产品")])])}],!1,Z,"data-v-21ca0b78",null).exports;var tt=function(t){a("tEF0")},et=Object(O.a)({name:"index",beforeCreate:function(){this.$router.push("home")}},function(){var t=this.$createElement;return(this._self._c||t)("div")},[],!1,tt,"data-v-eb7abfe2",null).exports,at={hasItem:function(t){return!!window.localStorage.getItem(t)},addStorage:function(t,e){window.localStorage.setItem(t,S()(e))},getStorage:function(t){return JSON.parse(window.localStorage.getItem(t))},removeStorage:function(t){window.localStorage.removeItem(t)}},it=new p.a,nt={setNavigation:{showNavigation:!1},setHeader:{show:!1}};function st(t){t.dispatch("appShell/appNavigation/setAppNavigation",nt.setNavigation),t.dispatch("appShell/appHeader/setAppHeader",nt.setHeader)}var ot={name:"Login",metaInfo:{title:"登录",titleTemplate:"%s - 福分通",meta:[{name:"keywords",content:"福分通"},{name:"description",content:"专注企业员工福利"}]},data:function(){return{city:this.$route.params.city,btn:!0,msgBtn:"发送验证码",imgSrc:"http://m.fufentong.cn/static/img/login_logo.png",loginType:1,loginName:"",password:""}},created:function(){this.yum("api/business/getCurrentBusiness","",this.city).then(function(t){})},methods:{msgTimer:function(){var t=60,e=this;e.btn=!1,e.sendMsg();var a=setInterval(function(){t-=1,e.msgBtn="请等待"+t+"秒",0===t&&(clearInterval(a),console.log("ok"),e.btn=!0,e.msgBtn="点击发送验证码")},1e3)},sendMsg:function(){var t=this,e={phone:this.loginName};this.yum("api/verify/sendSms",e,this.city).then(function(e){t.bus.$emit("notice",{text:e.data.msg})})},submit:function(){var t=this,e={loginName:this.loginName,type:this.loginType,password:this.password};this.yum("api/member/login",e,this.city).then(function(e){if(200===e.data.status){var a=e.data.data,i=e.data.msg;at.addStorage("user",a),it.$emit("notice",{text:i}),t.$router.push("home"),t.$store.dispatch("appShell/appNavigation/setAppNavigation",{login:!0})}else t.bus.$emit("notice",{text:e.data.msg})})},change:function(t){this.loginType!==t&&(this.password=""),this.loginType=t}},asyncData:function(){var t=d()(u.a.mark(function t(e){var a=e.store;e.route;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:st(a);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),activated:function(){st(this.$store)}};var rt=function(t){a("ZksH")},ct=Object(O.a)(ot,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-box"},[a("div",{staticClass:"login-type"},[a("v-layout",[a("v-flex",{staticClass:"border-line",class:{login:1===t.loginType},on:{click:function(e){t.change(1)}}},[t._v("服务密码")]),t._v(" "),a("v-flex",{class:{login:2===t.loginType},on:{click:function(e){t.change(2)}}},[t._v("动态密码")])],1)],1),t._v(" "),a("div",{staticClass:"login-banner"},[a("img",{attrs:{src:t.imgSrc}})]),t._v(" "),a("form",[1===t.loginType?a("div",{staticClass:"login-form"},[a("v-layout",[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{hint:"请输入用户名","prepend-icon":"person"},model:{value:t.loginName,callback:function(e){t.loginName=e},expression:"loginName"}})],1)],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{hint:"请输入密码","prepend-icon":"lock",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1)],1):a("div",{staticClass:"login-form"},[a("v-layout",[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{hint:"请输入手机号码","prepend-icon":"phone"},model:{value:t.loginName,callback:function(e){t.loginName=e},expression:"loginName"}})],1)],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{xs7:""}},[a("v-text-field",{attrs:{hint:"请输入动态密码","prepend-icon":"lock",type:"text"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),a("v-flex",{attrs:{xs5:""}},[t.btn?a("v-btn",{staticClass:"msg-btn",attrs:{block:"",depressed:""},on:{click:t.msgTimer}},[t._v(t._s(t.msgBtn))]):a("v-btn",{staticClass:"msg-btn",attrs:{block:"",depressed:""}},[t._v(t._s(t.msgBtn))])],1)],1)],1),t._v(" "),a("div",{staticClass:"login-submit"},[a("v-layout",[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"submit",on:{click:t.submit}},[t._v("登陆")])])],1)],1)]),t._v(" "),a("div",{staticClass:"other-btn"},[a("v-layout",[a("v-flex",{attrs:{xs6:""}},[a("a",{on:{click:function(e){t.$router.push("user/sign-up")}}},[t._v("新用户注册")])]),t._v(" "),a("v-flex",[a("a",{on:{click:function(e){t.$router.push("user/password")}}},[t._v("忘记密码？")])])],1)],1)])},[],!1,rt,"data-v-04bc9e7f",null).exports;var ut=function(t){a("BPhj")};function lt(t){t.dispatch("appShell/appHeader/setAppHeader",{show:!0,title:"产品类目",showMenu:!0,showBack:!1,showLogo:!1,func:!1,actions:{icon:"search",route:"search"}}),t.dispatch("appShell/appNavigation/setAppNavigation",{showNavigation:!0})}var dt={name:"product",metaInfo:{title:"产品类目",titleTemplate:"%s - 福分通",meta:[{name:"keywords",content:"福分通"},{name:"description",content:"专注企业员工福利"}]},components:{ProInfo:Object(O.a)({name:"ProInfo",props:{link:"",childCategory:""},data:function(){return{city:this.$route.params.city,hot:[],url:"http://admin.fufentong.cn/media/upload",testUrl:/http:\/\//i}},methods:{getHot:function(t){var e=this,a=this.$route.params.city,i={page:1,cid:t};this.yum("api/Product/getGoodsList",i,a).then(function(t){e.hot=t.data.data.list})},getProduct:function(t,e){this.bus.$emit("update-list",t),this.$router.push({path:"grade",query:{id:t,name:e}})}},watch:{childCategory:{handler:function(){this.getHot(this.childCategory[0].cid)},deep:!0}}},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ProInfo"},[a("ul",{staticClass:"classify"},t._l(t.childCategory,function(e){return a("li",{staticClass:"infoItem"},[a("a",{on:{click:function(a){t.getProduct(e.cid,e.cname)}}},[t._v(t._s(e.cname))])])})),t._v(" "),a("h1",[t._v("热门推荐")]),t._v(" "),a("div",[a("ul",{staticClass:"Pro-hot"},t._l(t.hot,function(e,i){return i<4?a("li",{key:i},[a("a",{on:{click:function(a){t.$router.push({path:"/"+t.city+"/detail/"+e.product_id})}}},[a("img",{attrs:{src:t.testUrl.test(e.default_img)?e.default_img:t.url+e.default_img,alt:""}}),t._v(" "),a("p",[t._v(t._s(e.product_name))])])]):t._e()}))])])},[],!1,ut,"data-v-11665377",null).exports},data:function(){return{city:this.$route.params.city,itemLink:"",leimu:[],childLeimu:[]}},methods:{choose:function(t){this.itemLink=t.cname,this.childLeimu=t.child},categoryList:function(){var t=this;this.yum("api/category/lists","",this.city).then(function(e){200===e.data.status?(t.leimu=e.data.data[0].child,t.itemLink=e.data.data[0].child[0].cname,t.childLeimu=e.data.data[0].child[0].child):t.bus.$emit("notice",{text:e.data.msg})}).catch(function(e){t.bus.$emit("notice",{text:"网络错误！"})})}},asyncData:function(){var t=d()(u.a.mark(function t(e){var a=e.store;e.route;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:lt(a);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),activated:function(){lt(this.$store)},created:function(){this.categoryList()}};var pt=function(t){a("/JOa")},ht=Object(O.a)(dt,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"product"},[a("v-layout",{staticClass:"box "},[a("v-flex",{attrs:{xs3:""}},[a("ul",{staticClass:"product-menu"},t._l(t.leimu,function(e,i){return a("li",{staticClass:"product-leimu",class:{selected:e.cname===t.itemLink},on:{click:function(a){t.choose(e)}}},[t._v(t._s(e.cname))])}))]),t._v(" "),a("v-flex",{attrs:{xs9:""}},[a("div",{staticClass:"product-info"},[a("pro-info",{attrs:{link:t.itemLink,childCategory:t.childLeimu}})],1)])],1)],1)},[],!1,pt,"data-v-7d52366c",null).exports,vt={appHeaderState:{show:!1}};function ft(t){t.dispatch("appShell/appHeader/setAppHeader",vt.appHeaderState),t.dispatch("appShell/appNavigation/setAppNavigation",{showNavigation:!1})}var mt={name:"search",metaInfo:{title:"Search",titleTemplate:"%s - Lavas",meta:[{name:"keywords",content:"搜索"},{name:"description",content:"搜索"}]},data:function(){return{city:this.$route.params.city,page:1,query:"",loading:!1,data:[]}},components:{GoodsList:V},methods:{search:function(t){var e=this,a=t||this.page;this.data=[],this.loading=!0,this.$el.querySelector(".search-input").blur(),this.yum("api/search/searchGoods",{page_no:a,product_name:this.query},this.city).then(function(t){if(200===t.data.status){e.data=t.data.data;var a=e;setTimeout(function(){a.bus.$emit("loadOff",!1)},1e3)}else e.bus.$emit("notice",{text:t.data.msg}),e.bus.$emit("loadOff",!1),e.bus.$emit("pageEnd",!1)}),this.loading=!1}},created:function(){var t=this;this.bus.$on("load",function(e){t.search(e)})},asyncData:function(){var t=d()(u.a.mark(function t(e){var a=e.store;e.route;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:ft(a);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),activated:function(){ft(this.$store)}};var _t=function(t){a("X+/r")},gt=Object(O.a)(mt,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-search-page"},[a("div",{staticClass:"goods"},[a("header",[a("v-btn",{staticClass:"search-btn",attrs:{light:"",icon:""},nativeOn:{click:function(e){t.$router.go(-1)}}},[a("v-icon",{staticClass:"search-icon"},[t._v("arrow_back")])],1),t._v(" "),a("form",{on:{submit:function(e){return e.preventDefault(),t.search(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"search-input",attrs:{type:"search",autocomplete:"off",placeholder:"请输入搜索词",autocapitalize:"off"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}})]),t._v(" "),a("v-btn",{staticClass:"search-btn",attrs:{light:"",icon:""},nativeOn:{click:function(e){t.query=""}}},[a("v-icon",{staticClass:"search-icon"},[t._v("close")])],1)],1),t._v(" "),a("div",{staticClass:"zhanwei"}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"search-loading"},[a("v-progress-circular",{attrs:{indeterminate:"",color:"red",size:100}})],1),t._v(" "),a("goods-list",{attrs:{list:t.data,index:t.page}})],1)])},[],!1,_t,"data-v-4fcb5b76",null).exports,yt={name:"account-address",data:function(){return{def:{},edit:!1,address:[]}},created:function(){this.getLocation()},activated:function(){var t=this;setTimeout(function(){var e={province:t.def.province,add_id:t.def.id};t.bus.$emit("address",e)},800)},mounted:function(){},methods:{getLocation:function(){var t=this;this.yum("api/address/lists").then(function(e){t.address=e.data.data,t.defaultAdd()})},defaultAdd:function(){var t=this;this.address.forEach(function(e){"1"==e.moren?t.def=e:t.def=t.address[0]})},chooseAdd:function(t){this.def=t,this.edit=!1;var e={province:this.def.province,add_id:this.def.id};this.bus.$emit("address",e)}}};var wt=function(t){a("JoMb")},xt=Object(O.a)(yt,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"account-address",on:{click:function(e){t.edit=!0}}},[a("p",[a("span",[t._v(t._s(t.def.truename))]),a("span",[t._v(t._s(t.def.telephone))])]),t._v(" "),a("p",[a("i",{staticClass:"material-icons"},[t._v("edit_location")]),t._v(t._s(t.def.provinceName+t.def.cityName+t.def.townName))])]),t._v(" "),t.edit?a("div",{staticClass:"account-label"},t._l(t.address,function(e){return a("div",{staticClass:"account-address",on:{click:function(a){t.chooseAdd(e)}}},[a("p",[a("span",[t._v(t._s(e.truename))]),a("span",[t._v(t._s(e.telephone))])]),t._v(" "),a("p",[a("i",{staticClass:"material-icons"},[t._v("edit_location")]),t._v(t._s(e.provinceName+e.cityName+e.townName))])])})):t._e()])},[],!1,wt,"data-v-1451c8b0",null).exports,bt={setAppHeader:{show:!0,title:"兑换袋",showMenu:!0,showBack:!0,showLogo:!1,func:!1,actions:{icon:"home",route:"home"}}};function kt(t){t.dispatch("appShell/appHeader/setAppHeader",bt.setAppHeader),t.dispatch("appShell/appNavigation/setAppNavigation",{showNavigation:!1})}var Ct={name:"account",metaInfo:{title:"确认订单",titleTemplate:"%s - 福分通",meta:[{name:"keywords",content:"福分通"},{name:"description",content:"专注企业员工福利"}]},asyncData:function(){var t=d()(u.a.mark(function t(e){var a=e.store;e.route;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:kt(a);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),components:{AccountAddress:xt},created:function(){var t=this;this.bus.$on("address",function(e){t.expressFei(e)})},activated:function(){kt(this.$store)},deactivated:function(){this.orderlist=[]},data:function(){return{info:{},isDikou:!1,dikouJifen:"",url:"http://admin.fufentong.cn/media/upload",testUrl:/http:\/\//i,show:!1,sheet:!1,expressP:"0",add_id:"",good:[],city:this.$route.params.city,orderlist:[],tiles:[{img:"alipay.png",title:"支付宝",type:"AliPay"},{img:"wepay.png",title:"微信（正在维护）",type:"none"},{img:"bank.png",title:"银行卡（正在维护）",type:"none"}]}},watch:{dikouJifen:{handler:function(){this.dikouJifen<this.price&&this.dikouJifen>=0?this.dikouJifen=this.dikouJifen:(this.dikouJifen="",this.bus.$emit("notice",{text:"抵扣积分不能超出商品价格"}))},deep:!0}},methods:{sheetOn:function(){var t=this;this.sheet=!0,this.yum("api/member/getMemberInfo").then(function(e){200===e.data.status?t.info=e.data.data:t.bus.$emit("notice",{text:e.data.msg})})},zhifu:function(t,e){var a=t,i=this.orderlist,n=this.storage.getStorage("user").token,s=this.$route.params.city;"none"===t?this.bus.$emit("notice",{text:""+e}):(this.bus.$emit("notice",{text:"即将跳转到"+e+"支付"}),setTimeout(function(){location.href="http://mapi.fufentong.cn/"+s+"/api/order/pay?payType="+a+"&orderSn[]="+i+"&token="+n},1e3))},expressFei:function(t){var e=this;0===this.cart.length&&(this.$router.go(-1),this.bus.$emit("notice",{text:"交易信息过期"}));var a=t.province;this.add_id=t.add_id;var i=[];this.cart.forEach(function(t){i.push(t.product_id+"_"+t.selectNum)}),this.good=i,this.yum("api/order/expressFee",{province:a,goods:i},this.city).then(function(t){200===t.data.status?e.expressP=t.data.data/t.data.exchange:e.bus.$emit("notice",{text:t.data.msg})})},orderIt:function(t,e){var a=this,i={address_id:this.add_id,goods:this.good,note:"null",pay_point:0};this.isDikou&&(i={address_id:this.add_id,goods:this.good,note:"null",pay_point:this.dikouJifen}),this.yum("api/order/createorder",i,this.city).then(function(i){200===i.data.status?(a.orderlist=i.data.data,a.zhifu(t,e)):a.bus.$emit("notice",{text:i.data.data})}).catch(function(t){a.bus.$emit("notice",{text:"网络错误！"})})}},mounted:function(){var t=this;setTimeout(function(){t.show=!0},300)},computed:b()({},Object(I.c)("cart",{cart:function(t){return t.cart}}),Object(I.c)("exchange",{exc:function(t){return t.exc}}),{user:function(){if(this.storage.hasItem("user")){var t=this.storage.getStorage("user");return t}},total:function(){var t=0;return this.cart.forEach(function(e){t+=e.selectNum}),t},price:function(){var t=this,e=0;return this.cart.forEach(function(a){var i=a.jifen,n=a.product_jifen,s=a.zhekou_jifen,o=a.iszhekou,r=a.selectNum,c=t.exc.has_custom_price,u=t.exc.exchange;e+=1===c?parseInt(i)/parseInt(u)*r:1===o?parseInt(s)/parseInt(u)*r:parseInt(n)/parseInt(u)*r}),e+=this.expressP}})};var $t=function(t){a("UubL")},St=Object(O.a)(Ct,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"account"},[a("account-address"),t._v(" "),a("div",{staticClass:"account-list"},t._l(t.cart,function(e){return a("div",{staticClass:"account-list-item"},[a("img",{attrs:{src:t.testUrl.test(e.default_img)?e.default_img:t.url+e.default_img,alt:""}}),t._v(" "),a("div",[a("p",[t._v(t._s(e.product_name))]),t._v(" "),a("p",[a("span",{staticStyle:{color:"orangered"}},[t._v(t._s(t._f("exch")(e,t.exc)*e.selectNum)+t._s(t.exc.unit))]),a("span",{staticStyle:{float:"right"}},[t._v(t._s(e.selectNum))])])])])})),t._v(" "),a("div",{staticClass:"pay",class:{isShow:t.show}},[a("div",{staticClass:"button",on:{click:t.sheetOn}},[t._v("立即兑换")]),t._v(" "),a("div",{staticClass:"total"},[a("div",[a("span",[t._v("共计"+t._s(t.total)+"件")]),a("span",[t._v("应付:")]),a("span",{staticStyle:{color:"orangered","font-size":"0.35rem"}},[t._v(t._s(t.price)+t._s(t.exc.unit))])]),t._v(" "),a("div",[a("span",[t._v("运费:"+t._s(t.expressP)+t._s(t.exc.unit))])])])]),t._v(" "),a("v-bottom-sheet",{model:{value:t.sheet,callback:function(e){t.sheet=e},expression:"sheet"}},[a("v-list",[a("v-subheader",[t._v("选择支付方式")]),t._v(" "),a("div",{staticClass:"dikou"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.isDikou,expression:"isDikou"}],attrs:{type:"checkbox",name:"payment"},domProps:{checked:Array.isArray(t.isDikou)?t._i(t.isDikou,null)>-1:t.isDikou},on:{change:function(e){var a=t.isDikou,i=e.target,n=!!i.checked;if(Array.isArray(a)){var s=t._i(a,null);i.checked?s<0&&(t.isDikou=a.concat([null])):s>-1&&(t.isDikou=a.slice(0,s).concat(a.slice(s+1)))}else t.isDikou=n}}}),t._v(" "),a("label",{attrs:{for:"payment"}},[t._v("混合支付")]),a("span",{staticStyle:{float:"right"}},[t._v("（您还剩余："+t._s(t.info.point)+"）")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dikouJifen,expression:"dikouJifen"}],attrs:{type:"number",placeholder:"积分不足请用混合支付"},domProps:{value:t.dikouJifen},on:{input:function(e){e.target.composing||(t.dikouJifen=e.target.value)}}})]),t._v(" "),!1===t.isDikou?a("v-list-tile",{on:{click:function(e){t.orderIt("JifenPay","余额")}}},[a("v-list-tile-avatar",[a("v-avatar",{attrs:{size:"32px",tile:""}},[a("img",{attrs:{src:"/static/img/pay/mony.png"}})])],1),t._v(" "),a("v-list-tile-title",[t._v("余额支付")])],1):t._e(),t._v(" "),t._l(t.tiles,function(e){return a("v-list-tile",{key:e.title,on:{click:function(a){t.orderIt(e.type,e.title)}}},[a("v-list-tile-avatar",[a("v-avatar",{attrs:{size:"32px",tile:""}},[a("img",{attrs:{src:"/static/img/pay/"+e.img,alt:e.title}})])],1),t._v(" "),a("v-list-tile-title",[t._v(t._s(e.title))])],1)})],2)],1)],1)},[],!1,$t,"data-v-ea4bd314",null).exports,Nt={setAppHeader:{show:!0,title:"兑换袋",showMenu:!0,showBack:!1,showLogo:!1,func:!0,actions:{icon:"edit",route:""}}};function At(t){t.dispatch("appShell/appHeader/setAppHeader",Nt.setAppHeader),t.dispatch("appShell/appNavigation/setAppNavigation",{showNavigation:!0})}var Pt={name:"shopping",metaInfo:{title:"福分通",titleTemplate:"%s",meta:[{name:"keywords",content:"福分通"},{name:"description",content:"专注企业员工福利"}]},data:function(){return{show:!1,control:!1,query:"",city:this.$route.params.city,url:"http://admin.fufentong.cn/media/upload",testUrl:/http:\/\//i,goods:[]}},filter:{},asyncData:function(){var t=d()(u.a.mark(function t(e){var a=e.store;e.route;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:At(a);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),activated:function(){At(this.$store),this.getCart()},created:function(){var t=this;this.bus.$on("control",function(){t.control=!t.control})},methods:{goDetail:function(t){this.$router.push(t)},getCart:function(){var t=this;this.yum("api/member/shoppingCart","",this.city).then(function(e){t.goods=[];var a={exchange:e.data.exchange,has_custom_price:e.data.has_custom_price,unit:e.data.unit};t.$store.dispatch("exchange/setEx",{exc:a}),"元"===t.exc.unit?t.$store.dispatch("appShell/appHeader/setAppHeader",{title:"购物车"}):t.$store.dispatch("appShell/appHeader/setAppHeader",{title:"兑换袋"}),200===e.data.status?e.data.data.forEach(function(e){var a=b()({selected:!1},{selectNum:1},{num:999},e);t.goods.push(a)}):t.bus.$emit("notice",{text:e.data.msg})}).catch(function(e){t.bus.$emit("notice",{text:"网络错误"})})},select:function(t){t.selected=!t.selected},change:function(t,e){if(e>0)if(t.selectNum<t.num)t.selectNum=t.selectNum+e;else{t.selectNum=t.num;it.$emit("notice",{text:"已经没有更多库存了QAQ！"})}else{if(t.selectNum<=1)return;t.selectNum=t.selectNum+e}},Sum:function(t){var e=0;return t.forEach(function(t,a,i){e+=t},0),e},allSelectToggle:function(t){this.data.forEach(function(e){e.selected=!t})},buyAll:function(){this.cart.length>0?this.$router.push("shopping/account"):this.bus.$emit("notice",{text:"还没选择要结算的商品~~QAQ~!!!!!"})},delCart:function(){var t=this,e=[];this.goods.forEach(function(t){t.selected&&e.push(t.product_id)}),0===e.length?this.bus.$emit("notice",{text:"还没有选择要移除的产品QAQ!"}):this.yum("api/member/delCart",{product_id:e},this.city).then(function(e){200===e.status?(t.bus.$emit("notice",{text:e.data.msg}),t.getCart()):t.bus.$emit("notice",{text:"网络错误"})})},addFocus:function(){var t=this,e=[];this.goods.forEach(function(t){t.selected&&e.push(t.product_id)}),0===e.length?this.bus.$emit("notice",{text:"还没有选择要收藏的产品QAQ!"}):this.yum("api/member/collect",{product_id:e},this.city).then(function(e){200===e.status?t.bus.$emit("notice",{text:e.data.msg}):t.bus.$emit("notice",{text:"网络错误"})})}},watch:{goods:{handler:function(t,e){var a=[];this.goods.forEach(function(t){if(t.selected)a.push(t);else{if(0===a.length)return;a.forEach(function(e,i){t.selected===e.selected&&a.splice(i,e)})}}),this.$store.dispatch("cart/setShoppingCart",{cart:a})},deep:!0}},computed:b()({},Object(I.c)("cart",{cart:function(t){return t.cart}}),Object(I.c)("exchange",{exc:function(t){return t.exc}}),{allSelect:function(){var t=!1;return this.data.forEach(function(e){t+=e.selected}),!(t<this.data.length)},data:{get:function(){return this.goods},set:function(){}},point:function(){var t=this,e=[];return this.goods.forEach(function(a){if(a.selected){var i=a.jifen,n=a.product_jifen,s=a.zhekou_jifen,o=a.iszhekou,r=a.selectNum,c=t.exc.has_custom_price,u=t.exc.exchange;1===c?e.push(parseInt(i)/parseInt(u)*r):1===o?e.push(parseInt(s)/parseInt(u)*r):e.push(parseInt(n)/parseInt(u)*r)}}),this.Sum(e)},allIn:function(){var t=[];return this.data.forEach(function(e){e.selected&&t.push(e.selectNum)}),this.Sum(t)}}),mounted:function(){var t=this;setTimeout(function(){t.show=!0},300)}};var It=function(t){a("biFm")},Et=Object(O.a)(Pt,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-shopping-page"},[a("div",{staticClass:"app-shopping-box"},[a("div",{staticClass:"app-shopping-goods"},[0===t.data.length?a("div",{staticClass:"app-shopping-goods-none"},[a("img",{attrs:{src:"/static/img/shoppingcar.png",alt:""}}),t._v(" "),a("p",[t._v("购物车空空如也~~~")]),t._v(" "),a("p",[t._v("客官 "),a("a",{on:{click:function(e){t.$router.push("grade")}}},[t._v("再选选？")])])]):t._l(t.data,function(e){return a("div",{staticClass:"app-shopping-goods-box"},[a("div",{staticClass:"app-shopping-goods-box-select"},[e.selected?a("v-icon",{on:{click:function(a){t.select(e)}}},[t._v("radio_button_checked")]):a("v-icon",{on:{click:function(a){t.select(e)}}},[t._v("radio_button_unchecked")])],1),t._v(" "),a("div",{staticClass:"app-shopping-goods-box-img"},[a("img",{attrs:{src:t.testUrl.test(e.default_img)?e.default_img:t.url+e.default_img}})]),t._v(" "),a("div",{staticClass:"app-shopping-goods-box-detail"},[a("p",{staticClass:"app-shopping-goods-box-detail-name",on:{click:function(a){t.goDetail("detail/"+e.product_id)}}},[t._v(t._s(e.product_name))]),t._v(" "),a("p",{staticClass:"app-shopping-goods-box-detail-point"},[t._v(t._s(t._f("exch")(e,t.exc)*e.selectNum)+t._s(t.exc.unit))]),t._v(" "),a("div",{staticClass:"app-shopping-goods-box-detail-num"},[a("v-icon",{on:{click:function(a){t.change(e,-1)}}},[t._v("remove")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectNum,expression:"item.selectNum"}],attrs:{type:"number"},domProps:{value:e.selectNum},on:{input:function(a){a.target.composing||t.$set(e,"selectNum",a.target.value)}}}),a("v-icon",{on:{click:function(a){t.change(e,1)}}},[t._v("add")])],1)])])})],2),t._v(" "),a("div",{staticClass:"app-shopping-bottom",class:{isShow:t.show}},[a("div",{staticClass:"app-shopping-bottom-allSelect"},[t.allSelect?a("v-icon",{on:{click:function(e){t.allSelectToggle(!0)}}},[t._v("radio_button_checked")]):a("v-icon",{on:{click:function(e){t.allSelectToggle(!1)}}},[t._v("radio_button_unchecked")]),t._v("\n                全选\n            ")],1),t._v(" "),a("div",{staticClass:"app-shopping-bottom-allPoint"},[t.control?a("a",{staticClass:"focus",on:{click:t.addFocus}},[t._v("加入关注")]):a("span",[t._v("合计"+t._s(t.exc.unit)+"："+t._s(t.point)),a("br"),t._v("(未含运费)")])]),t._v(" "),a("div",{staticClass:"app-shopping-bottom-allIn"},[t.control?a("p",{on:{click:t.delCart}},[t._v("删除")]):a("p",{on:{click:t.buyAll}},[t._v("结算("+t._s(t.allIn)+")")])])])])])},[],!1,It,"data-v-85a9ca4e",null).exports,Tt={setNavigation:{showNavigation:!1},setHeader:{show:!0,title:"编辑收货地址",showBack:!0,showMenu:!0,showLogo:!1,func:!0,actions:{icon:"save",route:""}}};function Ot(t){t.dispatch("appShell/appNavigation/setAppNavigation",Tt.setNavigation),t.dispatch("appShell/appHeader/setAppHeader",Tt.setHeader)}var jt={asyncData:function(){var t=d()(u.a.mark(function t(e){var a=e.store;e.route;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Ot(a);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),activated:function(){Ot(this.$store)},name:"edit",metaInfo:{title:"编辑收货地址",titleTemplate:"%s - 福分通",meta:[{name:"keywords",content:"福分通"},{name:"description",content:"专注企业员工福利"}]},created:function(){this.getAddressList(),this.data.user=this.$route.query.truename,this.data.phone=this.$route.query.telephone,this.code=this.$route.query.alladdress},methods:{getAddressList:function(t,e){var a=this,i=1;switch(t&&(i=t),e){case 1:this.citys=[];break;case 2:this.towns=[];break;case 3:this.countrys=[];break;default:this.provinces=[]}this.yum("api/city/lists",{pid:i},this.cit).then(function(t){200===t.data.status?t.data.data.forEach(function(t){var i={state:t.region_name,abbr:t.region_id,type:t.region_type};switch(e){case 1:a.citys.push(i);break;case 2:a.towns.push(i);break;case 3:a.countrys.push(i);break;default:a.provinces.push(i)}}):a.bus.$emit("notice",{text:"网络错误！"})})},addAddress:function(){var t=this,e=b()({truename:this.data.user,telephone:this.data.phone,province:this.province.abbr,city:this.city.abbr,town:this.town.abbr,county:this.country.abbr,address:this.code,act:this.act,id:this.$route.query.id});this.yum("api/address/save",e,this.cit).then(function(e){e.data.status,t.bus.$emit("notice",{text:e.data.msg})})}},data:function(){var t=this;return{act:this.$route.query.act||"add",code:"",data:{user:"",phone:""},cit:this.$route.params.city,province:{state:"省份",abbr:"",type:1},city:{state:"城市",abbr:"",type:2},town:{state:"区/县",abbr:"",type:3},country:{state:"街道/乡镇",abbr:"",type:4},provinces:[],citys:[],towns:[],countrys:[],rules:{phone:function(){return/^1([358][0-9]|4[579]|66|7[0135678]|9[89])[0-9]{8}$/.test(t.data.phone)||"填写正确的手机号"}}}}};var Lt=function(t){a("GCLr")},Ht=Object(O.a)(jt,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"editAddress"},[a("v-layout",[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"收件人","prepend-icon":"person"},model:{value:t.data.user,callback:function(e){t.$set(t.data,"user",e)},expression:"data.user"}})],1)],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"联系方式","prepend-icon":"phone",rules:[t.rules.phone]},model:{value:t.data.phone,callback:function(e){t.$set(t.data,"phone",e)},expression:"data.phone"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs6:""}},[a("v-select",{attrs:{items:t.provinces,label:"省","single-line":"","item-text":"state","item-value":"abbr","return-object":"","persistent-hint":""},on:{input:function(e){t.getAddressList(t.province.abbr,t.province.type)}},model:{value:t.province,callback:function(e){t.province=e},expression:"province"}})],1),t._v(" "),a("v-flex",{attrs:{xs6:""}},[a("v-select",{attrs:{items:t.citys,label:"市","single-line":"","item-text":"state","item-value":"abbr","return-object":"","persistent-hint":""},on:{input:function(e){t.getAddressList(t.city.abbr,t.city.type)}},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs6:""}},[a("v-select",{attrs:{items:t.towns,label:"区","single-line":"","item-text":"state","item-value":"abbr","return-object":"","persistent-hint":""},on:{input:function(e){t.getAddressList(t.town.abbr,t.town.type)}},model:{value:t.town,callback:function(e){t.town=e},expression:"town"}})],1),t._v(" "),a("v-flex",{attrs:{xs6:""}},[a("v-select",{attrs:{items:t.countrys,label:"街道/乡镇","single-line":"","item-text":"state","item-value":"abbr","return-object":"","persistent-hint":""},model:{value:t.country,callback:function(e){t.country=e},expression:"country"}})],1)],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"详细收货地址","prepend-icon":"place"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1)],1),t._v(" "),a("v-card",{on:{touchstart:t.addAddress}},[a("div",{staticClass:"signUp"},[t._v("保存地址")])])],1)])},[],!1,Lt,"data-v-0f20c0be",null).exports,Dt={setNavigation:{showNavigation:!1}};function Mt(t,e){t.dispatch("appShell/appNavigation/setAppNavigation",Dt.setNavigation),t.dispatch("appShell/appHeader/setAppHeader",{show:!0,title:"收货地址",showBack:!0,showMenu:!0,showLogo:!1,func:!1,actions:{icon:"edit",route:"user/address/edit"}})}var Bt={name:"addressList",metaInfo:{title:"收货地址",titleTemplate:"%s - 福分通",meta:[{name:"keywords",content:"福分通"},{name:"description",content:"专注企业员工福利"}]},data:function(){return{city:this.$route.params.city,address:"",act:"update"}},asyncData:function(){var t=d()(u.a.mark(function t(e){var a=e.store;e.route;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Mt(a);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),activated:function(){Mt(this.$store,this.route)},created:function(){this.getAdd()},methods:{getAdd:function(){var t=this;this.address=[],this.yum("api/address/lists","",this.city).then(function(e){200===e.data.status?t.address=e.data.data:t.bus.$emit("notice",{text:e.data.msg})})},delAdd:function(t){var e=this;this.yum("api/address/del",{id:t},this.city).then(function(t){200===t.data.status?(e.bus.$emit("notice",{text:t.data.msg}),e.getAdd()):e.bus.$emit("notice",{text:t.data.msg})}).catch(function(t){e.bus.$emit("notice",{text:"请检查网络连接"})})}},computed:{route:function(){var t=this.$route.params.city;return t?"/"+t:void 0}}};var Ut=function(t){a("EgqX")},qt=Object(O.a)(Bt,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"address"},[a("div",t._l(t.address,function(e){return a("div",{staticClass:"address-box"},[a("span",{staticClass:"user"},[t._v(t._s(e.truename))]),t._v(" "),a("span",{staticClass:"phone"},[t._v(" "+t._s(e.telephone))]),t._v(" "),a("p",{staticClass:"location"},[t._v(t._s(e.provinceName+"·"+e.cityName+"·"+e.townName+e.address))]),t._v(" "),a("div",{staticClass:"add-btn"},[a("div",{staticClass:"btn edit",on:{click:function(a){t.$router.push({path:"address/edit",query:Object.assign(e,{act:t.act})})}}},[a("i",{staticClass:"material-icons"},[t._v("edit_location")]),t._v("编辑")]),t._v(" "),a("div",{staticClass:"btn delete",on:{click:function(a){t.delAdd(e.id)}}},[a("i",{staticClass:"material-icons"},[t._v("delete")]),t._v("删除")])])])})),t._v(" "),a("div",{staticClass:"addplace",on:{click:function(e){t.$router.push("address/edit")}}},[t._v("新增地址")])])},[],!1,Ut,"data-v-4a7a90b9",null).exports;function Rt(t){t.dispatch("appShell/appNavigation/setAppNavigation",{showNavigation:!1}),t.dispatch("appShell/appHeader/setAppHeader",{show:!0,title:"帮助中心",showMenu:!1,showBack:!0,showLogo:!1,func:!1,actions:{icon:"home",route:"home"}})}var Vt={name:"help",metaInfo:{title:"帮助中心",titleTemplate:"%s - 福分通",meta:[{name:"keywords",content:"福分通"},{name:"description",content:"专注企业员工福利"}]},asyncData:function(){var t=d()(u.a.mark(function t(e){var a=e.store;e.route;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Rt(a);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),activated:function(){this.setStore(this.$store)}};var Jt=function(t){a("eSmZ")},Gt=Object(O.a)(Vt,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"padding-top":"50px"},attrs:{id:"main"}},[a("img",{staticStyle:{display:"block",width:"100%"},attrs:{src:"/static/img/help_info.jpg",alt:"帮助"}}),t._v(" "),a("div",{staticClass:"help_list"},[a("ul",[a("li",[a("a",{staticClass:"link"},[t._v("福分通  客服")]),t._v("4008-703-700"),a("v-icon",[t._v("chevron_right")])],1),t._v(" "),a("li",[a("a",{staticClass:"link"},[t._v("正品保证")]),a("v-icon",[t._v("chevron_right")])],1),t._v(" "),a("li",[a("a",{staticClass:"link",attrs:{href:"#"}},[t._v("7X12小时客服")]),a("v-icon",[t._v("chevron_right")])],1),t._v(" "),a("li",[a("a",{staticClass:"link",attrs:{href:"#"}},[t._v("兑换流程")]),a("v-icon",[t._v("chevron_right")])],1),t._v(" "),a("li",[a("a",{staticClass:"link",attrs:{href:"#"}},[t._v("配送时间")]),a("v-icon",[t._v("chevron_right")])],1),t._v(" "),a("li",[a("a",{staticClass:"link",attrs:{href:"#"}},[t._v("退换货政策")]),a("v-icon",[t._v("chevron_right")])],1),t._v(" "),a("li",[a("a",{staticClass:"link",attrs:{href:"#"}},[t._v("售后保障")]),a("v-icon",[t._v("chevron_right")])],1),t._v(" "),a("li",[a("a",{staticClass:"link",attrs:{href:"#"}},[t._v("企业介绍")]),a("v-icon",[t._v("chevron_right")])],1),t._v(" "),t._m(0)])]),t._v(" "),a("div",{staticClass:"clear h103"})])},[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{staticClass:"link"},[this._v("意见反馈")])])}],!1,Jt,"data-v-1855ac01",null).exports;function zt(t){t.dispatch("appShell/appHeader/setAppHeader",{show:!0,title:"个人中心",showMenu:!0,showBack:!1,showLogo:!1,func:!1,actions:{icon:"home",route:"home"}}),t.dispatch("appShell/appNavigation/setAppNavigation",{showNavigation:!0})}var Xt={name:"index",asyncData:function(){var t=d()(u.a.mark(function t(e){var a=e.store;e.route;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:zt(a);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),activated:function(){zt(this.$store)},metaInfo:{title:"个人中心",titleTemplate:"%s - 福分通",meta:[{name:"keywords",content:"福分通"},{name:"description",content:"专注企业员工福利"}]},data:function(){return{user:{}}},created:function(){this.getMemberInfo()},methods:{del_token:function(){var t=this.$route.params.city;this.storage.removeStorage("user"),this.$router.push("/"+t+"/home"),this.$store.dispatch("appShell/appNavigation/setAppNavigation",{login:!1})},getMemberInfo:function(){var t=this;this.yum("api/member/getMemberInfo").then(function(e){200===e.data.status?t.user=e.data.data:t.bus.$emit("notice",{text:e.data.msg})})}},computed:b()({},Object(I.c)("exchange",{exc:function(t){return t.exc}}))};var Qt=function(t){a("xF1H")},Ft=Object(O.a)(Xt,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user"},[a("div",{staticClass:" user-info"},[a("div",{staticClass:"user-info-box"},[a("div",{staticClass:"avatar"},[t._v("头像")]),t._v(" "),a("div",{staticClass:"user-info-details"},[a("p",[t._v("您好，"+t._s(t.user.username))]),t._v(" "),a("p",[t._v("我的余额："+t._s(t.user.point)+t._s(t.exc.unit))]),t._v(" "),a("a",{on:{click:function(e){t.$router.push("user/jifen")}}},[t._v("充值")])]),t._v(" "),a("div",{staticClass:"user-info-profile"})])]),t._v(" "),a("div",{staticClass:"user-list order"},[a("div",{staticClass:"link",on:{click:function(e){t.$router.push("user/order")}}},[t._m(0),t._v(" "),a("em",[t._v("全部订单 "),a("v-icon",[t._v("keyboard_arrow_right")])],1)])]),t._v(" "),a("div",{staticClass:"user-list star"},[a("div",{staticClass:"link",on:{click:function(e){t.$router.push("user/star")}}},[t._m(1),t._v(" "),a("em",[t._v("心仪的商品 "),a("v-icon",[t._v("keyboard_arrow_right")])],1)])]),t._v(" "),a("div",{staticClass:"user-list location"},[a("div",{staticClass:"link",on:{click:function(e){t.$router.push("user/address")}}},[t._m(2),t._v(" "),a("em",[t._v("收货地址管理 "),a("v-icon",[t._v("keyboard_arrow_right")])],1)])]),t._v(" "),a("div",{staticClass:"user-list notice"},[a("div",{staticClass:"link",on:{click:function(e){t.$router.push("user/msg")}}},[t._m(3),t._v(" "),a("em",[a("v-icon",[t._v("keyboard_arrow_right")])],1)])]),t._v(" "),a("div",{staticClass:"user-list changePassword"},[a("div",{staticClass:"link",on:{click:function(e){t.$router.push("user/password")}}},[t._m(4),t._v(" "),a("em",[a("v-icon",[t._v("keyboard_arrow_right")])],1)])]),t._v(" "),a("div",{staticClass:"user-list help"},[a("div",{staticClass:"link",on:{click:function(e){t.$router.push("user/help")}}},[t._m(5),t._v(" "),a("em",[a("v-icon",[t._v("keyboard_arrow_right")])],1)])]),t._v(" "),a("div",{staticClass:"user-list logout"},[a("div",{staticClass:"link",on:{click:t.del_token}},[t._m(6),t._v(" "),a("em",[a("v-icon",[t._v("keyboard_arrow_right")])],1)])]),t._v(" "),a("div",{staticClass:"fix-bottom"})])},[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"material-icons"},[this._v("assignment")]),this._v("我的订单")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"material-icons"},[this._v("assignment")]),this._v("我的关注")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"material-icons"},[this._v("place")]),this._v("收货地址信息")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"material-icons"},[this._v("email")]),this._v("站内信息")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"material-icons"},[this._v("lock_outline")]),this._v("修改密码")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"material-icons"},[this._v("help")]),this._v("帮助中心")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"material-icons"},[this._v("power_settings_new")]),this._v("退出当前账户")])}],!1,Qt,"data-v-20fa5116",null).exports;function Wt(t){t.dispatch("appShell/appHeader/setAppHeader",{show:!0,title:"积分充值",showMenu:!0,showBack:!0,showLogo:!1,func:!1,actions:{icon:"home",route:"home"}}),t.dispatch("appShell/appNavigation/setAppNavigation",{showNavigation:!1})}var Yt={name:"jifen",metaInfo:{title:"积分充值",titleTemplate:"%s - 福分通",meta:[{name:"keywords",content:"福分通"},{name:"description",content:"专注企业员工福利"}]},asyncData:function(){var t=d()(u.a.mark(function t(e){var a=e.store;e.route;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Wt(a);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),activated:function(){Wt(this.$store)},data:function(){return{type:["充值卡","充值积分"],card:"",city:this.$route.params.city,password:"",alipay:"",rules:{money:function(t){return/^[1-9]\d{0,10}$/.test(t)||"！"}},active:null}},methods:{dispatch:function(){var t=this,e={account:this.card,password:this.password};this.yum("api/member/cardCharge",e,this.city).then(function(e){t.bus.$emit("notice",{text:e.data.msg})}).catch(function(e){t.bus.$emit("notice",{text:"网络错误！"})})},aliPay:function(){this.bus.$emit("notice",{text:"功能测试中！"})}},filters:{jifen:function(t,e){return t*e.exchange/10}},computed:b()({},Object(I.c)("exchange",{exc:function(t){return t.exc}}))};var Zt=function(t){a("RRex")},Kt=Object(O.a)(Yt,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"jifen"},[a("v-tabs",{attrs:{dark:"","slider-color":"yellow"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[t._l(t.type,function(e){return a("v-tab",{key:e,attrs:{ripple:""}},[t._v("\n             "+t._s(e)+"\n        ")])}),t._v(" "),t._l(2,function(e){return a("v-tab-item",{key:e},[1===e?a("v-card",{attrs:{flat:""}},[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"xs-12":""}},[a("v-text-field",{attrs:{label:"卡号"},model:{value:t.card,callback:function(e){t.card=e},expression:"card"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"密码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),a("v-flex",{attrs:{"xs-12":""}},[a("v-btn",{attrs:{block:"",dark:"",color:"orange"},on:{click:function(e){t.dispatch()}}},[t._v("立即充值")])],1)],1)],1)],1):t._e(),t._v(" "),2===e?a("v-card",{attrs:{flat:""}},[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"需要充值的数量",rules:[t.rules.money]},model:{value:t.alipay,callback:function(e){t.alipay=e},expression:"alipay"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-card-text",[t._v("需要支付:"+t._s(t._f("jifen")(t.alipay,t.exc))+"元")])],1),t._v(" "),a("v-flex",{attrs:{"xs-12":""}},[a("v-btn",{attrs:{block:"",dark:"",color:"orange"},on:{click:function(e){t.aliPay()}}},[t._v("立即充值")])],1)],1)],1)],1):t._e()],1)})],2)],1)},[],!1,Zt,"data-v-30db17b2",null).exports;function te(t){t.dispatch("appShell/appNavigation/setAppNavigation",{showNavigation:!1}),t.dispatch("appShell/appHeader/setAppHeader",{show:!0,title:"站内信",showMenu:!1,showBack:!0,showLogo:!1,func:!1,actions:{icon:"home",route:"home"}})}var ee={name:"msg",metaInfo:{title:"站内信",titleTemplate:"%s - 福分通",meta:[{name:"keywords",content:"福分通"},{name:"description",content:"专注企业员工福利"}]},data:function(){return{msgDetail:!1,msg:[],city:this.$route.params.city,item:{admin_name:"hometest",id:44,message:"你的20积分已经被管理员回收，具体原因是：用于从北京子机构里的积分回收到官网积分池",read_time:1504763368,status:1,title:"积分回收通知"}}},created:function(){this.getMsg()},methods:{getMsg:function(){var t=this;this.yum("api/member/messageList","",this.city).then(function(e){200===e.data.status?t.msg=e.data.data:t.bus.$emit("notice",{text:e.data.msg})})},open:function(t){this.item=t,this.msgDetail=!0}},filters:{reDate:function(t){return new Date(1e3*t).toLocaleDateString()}},asyncData:function(){var t=d()(u.a.mark(function t(e){var a=e.store;e.route;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:te(a);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),activated:function(){this.setStore(this.$store)}};var ae=function(t){a("mSJt")},ie=Object(O.a)(ee,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"msg"},[t._m(0),t._v(" "),a("div",{staticClass:"msg-title"},t._l(t.msg,function(e){return a("ul",[a("li",{staticStyle:{overflow:"hidden","max-width":"1.8rem","text-overflow":"ellipsis","text-align":"left","white-space":"nowrap","text-indent":"0.2rem"},on:{click:function(a){t.open(e)}}},[t._v(t._s(e.title))]),t._v(" "),a("li",[t._v(t._s(t._f("reDate")(e.read_time)))]),t._v(" "),a("li",[t._v(t._s(e.status?"已读":"未读"))]),t._v(" "),a("li",[t._v("删除")])])})),t._v(" "),t.msgDetail?a("div",{staticClass:"msg-detail"},[a("v-icon",{on:{click:function(e){t.msgDetail=!1}}},[t._v("close")]),t._v(" "),a("div",{staticClass:"message"},[a("h1",[t._v(t._s(t.item.title))]),t._v(" "),a("div",{staticClass:"act"},[a("span",{staticClass:"ad_name"},[t._v(t._s(t.item.admin_name))]),t._v(" "),a("span",{staticClass:"ad_time"},[t._v(t._s(t._f("reDate")(t.item.read_time)))])]),t._v(" "),a("div",{staticClass:"clearfix"}),t._v(" "),a("div",{staticClass:"act_detail"},[t._v("\n                "+t._s(t.item.message))])])],1):t._e()])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"msg-status"},[e("ul",[e("li",[this._v("标题")]),this._v(" "),e("li",[this._v("时间")]),this._v(" "),e("li",[this._v("状态")]),this._v(" "),e("li",[this._v("操作")])])])}],!1,ae,"data-v-22d4723a",null).exports;function ne(t){t.dispatch("appShell/appHeader/setAppHeader",{show:!0,title:"我的订单",showMenu:!0,showBack:!0,showLogo:!1,func:!1,actions:{icon:"home",route:"home"}}),t.dispatch("appShell/appNavigation/setAppNavigation",{showNavigation:!1})}var se={name:"order",metaInfo:{title:"我的订单",titleTemplate:"%s - 福分通",meta:[{name:"keywords",content:"福分通"},{name:"description",content:"专注企业员工福利"}]},asyncData:function(){var t=d()(u.a.mark(function t(e){var a=e.store;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:ne(a);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),activated:function(){ne(this.$store)},data:function(){return{url:"http://admin.fufentong.cn/media/upload",testUrl:/http:\/\//i,selected:"全部",city:this.$route.params.city,filter:[{text:"全部",action:""},{text:"待发货",action:0},{text:"已发货",action:2},{text:"已完成",action:3}],pay_status:["未支付","已支付"],shipping_status:["未发货","配送中","已发货","已收货","退货"],status:["未审核","已审核","已取消","无效","已退货","已结算"],orders:[]}},created:function(){this.order()},filters:{orderStatus:function(t){return 0==t.pay_status?"未支付":1==t.pay_status?["未发货","配送中","已发货","已收货","退货"][t.shipping_status]:void 0}},computed:b()({},Object(I.c)("exchange",{exc:function(t){return t.exc}})),methods:{returns:function(t){var e=this.$route.params.city;this.$router.push({path:"/"+e+"/user/returns",query:{order_sn:t}})},select:function(t){this.selected=t.text,this.order(b()({status:t.action}))},order:function(t){var e=this;this.yum("api/order/lists",t,this.city).then(function(t){if(200===t.data.status){e.orders=t.data.data;var a={exchange:t.data.exchange,has_custom_price:t.data.has_custom_price,unit:t.data.unit};e.$store.dispatch("exchange/setEx",{exc:a})}else e.bus.$emit("notice",{text:t.data.msg}),e.orders=t.data.data}).catch(function(t){e.bus.$emit("notice",{text:"网络错误"})})}}};var oe=function(t){a("U1WS")},re=Object(O.a)(se,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order"},[a("div",{staticClass:"filter"},[a("v-layout",t._l(t.filter,function(e){return a("v-flex",{key:e.text,class:{active:t.selected===e.text},attrs:{xs3:""},on:{click:function(a){t.select(e)}}},[t._v(t._s(e.text))])}))],1),t._v(" "),a("div",{staticClass:"order-box"},[a("ul",t._l(t.orders,function(e,i){return a("li",{key:i},[a("p",[t._v("订单编号："+t._s(e.order_sn))]),t._v(" "),a("div",{staticClass:"block"},[a("div",{staticClass:"div_img"},[a("img",{attrs:{width:"100%",height:"100%",src:t.testUrl.test(e.default_img)?e.default_img:t.url+e.default_img,alt:""}})]),t._v(" "),a("div",{staticClass:"div_info"},[a("p",[t._v(t._s(e.product_name))]),t._v(" "),a("div",{staticClass:"pro_info"},[a("span",{staticClass:"jifen"},[t._v(t._s(t._f("exch")(e,t.exc))+t._s(t.exc.unit))]),t._v(" "),a("span",{staticClass:"num"},[t._v("x"+t._s(e.nums))])]),t._v(" "),a("div",{staticClass:"right"},[a("span",{staticClass:"all_jifen"},[t._v("合计"+t._s(t.exc.unit)+"："+t._s(t._f("exch")(e,t.exc)*e.nums))]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:3==e.shipping_status||2==e.shipping_status,expression:"item.shipping_status == 3||item.shipping_status == 2"}],staticClass:"exchange",on:{click:function(a){t.returns(e.order_sn)}}},[t._v("换货/退货")]),t._v(" "),a("span",{staticClass:"exchange"},[t._v(t._s(t._f("orderStatus")(e)))])])])])])}))])])},[],!1,oe,"data-v-622e766e",null).exports;function ce(t){t.dispatch("appShell/appNavigation/setAppNavigation",{showNavigation:!1}),t.dispatch("appShell/appHeader/setAppHeader",{show:!0,title:"更改密码",showMenu:!1,showBack:!0,showLogo:!1,func:!1,actions:{icon:"home",route:"home"}})}var ue={name:"password",metaInfo:{title:"更改密码",titleTemplate:"%s - 福分通",meta:[{name:"keywords",content:"福分通"},{name:"description",content:"专注企业员工福利"}]},data:function(){var t=this;return{city:this.$route.params.city,type:!1,typeBtn:"使用旧密码",btn:!0,msgBtn:"获取验证码",phone:"",code:"",oldPassword:"",password:"",checkPassword:"",rules:{check:function(){return t.password===t.checkPassword||"两次密码不符合"}}}},methods:{msgTime:function(){var t=60,e=this;e.btn=!1,e.sendMsg();var a=setInterval(function(){t-=1,e.msgBtn="请等待"+t+"秒",0===t&&(clearInterval(a),console.log("ok"),e.btn=!0,e.msgBtn="获取验证码")},1e3)},sendMsg:function(){var t=this,e={phone:this.phone};this.yum("api/verify/sendSms",e,this.city).then(function(e){t.bus.$emit("notice",{text:e.data.msg})}).catch(this.bus.$emit("notice",{text:"获取验证码失败！"}))},changeType:function(){this.type?(this.type=!this.type,this.typeBtn="使用旧密码"):(this.type=!this.type,this.typeBtn="使用手机验证码")},changePwd:function(){var t=this;if(this.type)if(this.password===this.checkPassword){var e={mobile:this.phone,old_pwd:this.oldPassword,new_pwd:this.password};this.yum("api/member/changePwd",e,this.city).then(function(e){if(200===e.data.status){t.bus.$emit("notice",{text:e.data.msg});var a=t.$route.params.city;t.storage.removeStorage("user"),t.$router.push("/"+a+"/home"),t.$store.dispatch("appShell/appNavigation/setAppNavigation",{login:!1})}else t.bus.$emit("notice",{text:e.data.msg})})}else this.bus.$emit("notice",{text:"两次输入密码不对"});else if(this.password===this.checkPassword){var a={mobile:this.phone,verify_code:this.code,new_pwd:this.password};this.yum("api/member/changePwdByPhone",a,this.city).then(function(e){if(200===e.data.status){t.bus.$emit("notice",{text:e.data.msg});var a=t.$route.params.city;t.storage.removeStorage("user"),t.$router.push("/"+a+"/home"),t.$store.dispatch("appShell/appNavigation/setAppNavigation",{login:!1})}else t.bus.$emit("notice",{text:e.data.msg})})}else this.bus.$emit("notice",{text:"两次输入密码不对"})}},asyncData:function(){var t=d()(u.a.mark(function t(e){var a=e.store;e.route;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:ce(a);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),activated:function(){this.setStore(this.$store)}};var le=function(t){a("lQzQ")},de=Object(O.a)(ue,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"password"},[a("div",{staticClass:"pwd-content"},[a("v-layout",{staticClass:"type"},[a("v-flex",{attrs:{"xs-6":""}},[a("v-btn",{on:{click:t.changeType}},[t._v(t._s(t.typeBtn))])],1)],1),t._v(" "),a("form",[a("v-layout",[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"请输入手机号码","prepend-icon":"phone",type:"text"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1)],1),t._v(" "),t.type?a("v-layout",[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"请输入原密码","prepend-icon":"lock",type:"password"},model:{value:t.oldPassword,callback:function(e){t.oldPassword=e},expression:"oldPassword"}})],1)],1):a("div",[a("v-layout",[a("v-flex",{attrs:{xs8:""}},[a("v-text-field",{attrs:{label:"请输入收到的验证码","prepend-icon":"chat"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[t.btn?a("v-btn",{on:{click:t.msgTime}},[t._v(t._s(t.msgBtn))]):a("v-btn",[t._v(t._s(t.msgBtn))])],1)],1)],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"请输入新密码","prepend-icon":"lock",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"请确认新密码","prepend-icon":"lock",type:"password",rules:[t.rules.check]},model:{value:t.checkPassword,callback:function(e){t.checkPassword=e},expression:"checkPassword"}})],1)],1)],1),t._v(" "),a("v-btn",{attrs:{color:"error",large:"",round:""},on:{click:t.changePwd}},[t._v("更 改 密 码")])],1)])},[],!1,le,"data-v-6c2d4552",null).exports,pe={setNavigation:{showNavigation:!1},setHeader:{show:!0,title:"退换货处理",showMenu:!0,showBack:!0,showLogo:!1,func:!1,actions:{icon:"home",route:"home"}}};function he(t){t.dispatch("appShell/appNavigation/setAppNavigation",pe.setNavigation),t.dispatch("appShell/appHeader/setAppHeader",pe.setHeader)}var ve={name:"returns",metaInfo:{title:"退换货",titleTemplate:"%s - 福分通",meta:[{name:"keywords",content:"福分通"},{name:"description",content:"专注企业员工福利"}]},data:function(){return{imgUrl:[],img:[],shipment_order:"",return_note:"",type:"1",order_sn:this.$route.query.order_sn}},computed:{username:function(){return this.storage.getStorage("user").username},return_mobile:function(){return this.storage.getStorage("user").mobile}},methods:{delImg:function(t){this.img.splice(t,1),this.imgUrl.splice(t,1)},sub:function(){var t=this,e=this.$route.params.city,a={type:this.type,img:this.img,order_sn:this.order_sn,shipment_order:this.shipment_order,return_mobile:this.return_mobile,return_note:this.return_note,username:this.username};this.yum("api/order_return/setMemberReturnApply",a,e).then(function(e){200===e.data.status?t.bus.$emit("notice",{text:"已将您的退货申请提交，正在审核！"}):t.bus.$emit("notice",{text:e.data.msg})})},uploads:function(t){var e=this;if(!(this.img.length>3)){var a=t.target.files[0],i=window.URL||window.webkitURL;this.imgUrl.push(i.createObjectURL(a));var n=new FormData;n.append("image",a),this.axios.post("http://mapi.fufentong.cn/www/api/file/uploads",n).then(function(t){200===t.data.status&&e.img.push(t.data.data)})}}},asyncData:function(){var t=d()(u.a.mark(function t(e){var a=e.store;e.route;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:he(a);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),activated:function(){he(this.$store)}};var fe=function(t){a("vYXs")},me=Object(O.a)(ve,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"return"},[a("div",{staticClass:"returns"},[a("div",{staticClass:"img"},[t._l(t.imgUrl,function(e,i){return a("div",{key:i,staticClass:"img-item"},[a("i",{staticClass:"material-icons del-img",on:{click:function(e){t.delImg(i)}}},[t._v("\nhighlight_off\n")]),t._v(" "),a("img",{attrs:{src:e,alt:""}})])}),t._v(" "),a("label",{staticClass:"img-add",attrs:{for:"avatar"}},[a("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"avatar",attrs:{id:"avatar",type:"file"},on:{change:t.uploads}}),t._v("添加一张新图片")])],2),t._v(" "),a("div",{staticClass:"returns-check"},[a("v-layout",[a("v-flex",{attrs:{xs6:""}},[a("label",{attrs:{for:"tui"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],attrs:{value:"1",type:"radio",id:"tui"},domProps:{checked:t._q(t.type,"1")},on:{change:function(e){t.type="1"}}}),t._v("退货")])]),t._v(" "),a("v-flex",{attrs:{xs6:""}},[a("label",{attrs:{for:"huan"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],attrs:{value:"2",type:"radio",id:"huan"},domProps:{checked:t._q(t.type,"2")},on:{change:function(e){t.type="2"}}}),t._v("换货")])])],1)],1),t._v(" "),a("div",{staticClass:"returns-ems"},[t._v("\n                物流单号：\n                "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.shipment_order,expression:"shipment_order"}],attrs:{type:"text",placeholder:"填写您的物流单号"},domProps:{value:t.shipment_order},on:{input:function(e){e.target.composing||(t.shipment_order=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"returns-riyu"},[t._v("\n                退换货理由：\n                "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.return_note,expression:"return_note"}],attrs:{name:"",id:"",cols:"38",rows:"3",placeholder:"填写您的退换货原因"},domProps:{value:t.return_note},on:{input:function(e){e.target.composing||(t.return_note=e.target.value)}}})]),t._v(" "),a("button",{staticClass:"btn",attrs:{color:"orange"},on:{click:t.sub}},[t._v("提交")])])])},[],!1,fe,"data-v-fb524536",null).exports,_e={setNavigation:{showNavigation:!1},setHeader:{show:!1,title:"收货地址",showBack:!0,showMenu:!0,showLogo:!1,func:!1,actions:{icon:"edit",route:"home"}}};function ge(t){t.dispatch("appShell/appNavigation/setAppNavigation",_e.setNavigation),t.dispatch("appShell/appHeader/setAppHeader",_e.setHeader)}var ye={name:"setting",metaInfo:{title:"设置",titleTemplate:"%s - 福分通",meta:[{name:"keywords",content:"福分通"},{name:"description",content:"专注企业员工福利"}]},asyncData:function(){var t=d()(u.a.mark(function t(e){var a=e.store;e.route;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:ge(a);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),activated:function(){ge(this.$store)}};var we=function(t){a("xQep")},xe=Object(O.a)(ye,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-card",[a("v-card-media",{attrs:{src:"https://vuetifyjs.com/static/doc-images/lists/ali.png",height:"300px"}},[a("v-layout",{staticClass:"media",attrs:{column:""}},[a("v-card-title",{staticClass:"fixed"},[a("v-btn",{attrs:{dark:"",icon:""},on:{click:function(e){t.$router.go(-1)}}},[a("v-icon",[t._v("chevron_left")])],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{staticClass:"mr-3",attrs:{dark:"",icon:""}},[a("v-icon",[t._v("edit")])],1),t._v(" "),a("v-btn",{attrs:{dark:"",icon:""}},[a("v-icon",[t._v("more_vert")])],1)],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-card-title",{staticClass:"white--text pl-5 pt-5"},[a("div",{staticClass:"display-1 pl-5 pt-5"},[t._v("叶晓彤")])])],1)],1),t._v(" "),a("v-list",{attrs:{"two-line":""}},[a("v-list-tile",{on:{click:function(t){}}},[a("v-list-tile-action",[a("v-icon",{attrs:{color:"red"}},[t._v("phone")])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v("(650) 555-1234")]),t._v(" "),a("v-list-tile-sub-title",[t._v("移动电话")])],1),t._v(" "),a("v-list-tile-action",[a("v-icon",[t._v("chat")])],1)],1),t._v(" "),a("v-list-tile",{on:{click:function(t){}}},[a("v-list-tile-action"),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v("(323) 555-6789")]),t._v(" "),a("v-list-tile-sub-title",[t._v("座机")])],1),t._v(" "),a("v-list-tile-action",[a("v-icon",[t._v("chat")])],1)],1),t._v(" "),a("v-divider",{attrs:{inset:""}}),t._v(" "),a("v-list-tile",{on:{click:function(t){}}},[a("v-list-tile-action",[a("v-icon",{attrs:{color:"red"}},[t._v("star")])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v("aliconnors@example.com")]),t._v(" "),a("v-list-tile-sub-title",[t._v("Personal")])],1)],1),t._v(" "),a("v-divider",{attrs:{inset:""}}),t._v(" "),a("v-list-tile",{on:{click:function(t){}}},[a("v-list-tile-action",[a("v-icon",{attrs:{color:"red"}},[t._v("location_on")])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v("1400 Main Street")]),t._v(" "),a("v-list-tile-sub-title",[t._v("Orlando, FL 79938")])],1)],1)],1)],1)],1)],1)},[],!1,we,"data-v-3a3b36b9",null).exports;function be(t){t.dispatch("appShell/appNavigation/setAppNavigation",{showNavigation:!1}),t.dispatch("appShell/appHeader/setAppHeader",{show:!0,title:"账号注册",showMenu:!1,showBack:!0,showLogo:!1,func:!1,actions:{icon:"home",route:"home"}})}var ke={name:"SignUp",metaInfo:{title:"账号注册",titleTemplate:"%s - 福分通",meta:[{name:"keywords",content:"福分通"},{name:"description",content:"专注企业员工福利"}]},data:function(){var t=this;return{btn:!0,msgBtn:"获取验证码",city:this.$route.params.city,checkPassword:"",code:"",data:{user:"",phone:"",password:""},rules:{phone:function(){return/^1([358][0-9]|4[579]|66|7[0135678]|9[89])[0-9]{8}$/.test(t.data.phone)||"填写正确的手机号"},check:function(){return t.data.password===t.checkPassword||"两次密码不符合"}}}},methods:{msgTime:function(){var t=60,e=this;e.btn=!1,e.sendMsg();var a=setInterval(function(){t-=1,e.msgBtn="请等待"+t+"秒",0===t&&(clearInterval(a),console.log("ok"),e.btn=!0,e.msgBtn="获取验证码")},1e3)},sendMsg:function(){var t=this,e={phone:this.data.phone};this.yum("api/verify/sendSms",e,this.city).then(function(e){t.bus.$emit("notice",{text:e.data.msg})}).catch(this.bus.$emit("notice",{text:"获取验证码失败！"}))},signUp:function(){var t=this,e={mobile:this.data.phone,password:this.data.password,username:this.data.user,verify_code:this.code};this.yum("api/member/register",e,this.city).then(function(e){t.bus.$emit("notice",{text:e.data.msg})}).catch(this.bus.$emit("notice",{text:"网络连接失败！"}))}},asyncData:function(){var t=d()(u.a.mark(function t(e){var a=e.store;e.route;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:be(a);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),activated:function(){this.setStore(this.$store)}};var Ce=function(t){a("ZpnN")},$e=Object(O.a)(ke,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sign"},[a("v-layout",[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"用户名","prepend-icon":"person"},model:{value:t.data.user,callback:function(e){t.$set(t.data,"user",e)},expression:"data.user"}})],1)],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"手机号","prepend-icon":"phone",rules:[t.rules.phone]},model:{value:t.data.phone,callback:function(e){t.$set(t.data,"phone",e)},expression:"data.phone"}})],1)],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{xs8:""}},[a("v-text-field",{attrs:{label:"请输入收到的验证码","prepend-icon":"chat"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[t.btn?a("v-btn",{on:{click:t.msgTime}},[t._v(t._s(t.msgBtn))]):a("v-btn",[t._v(t._s(t.msgBtn))])],1)],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"请输入账户密码","prepend-icon":"lock",type:"password"},model:{value:t.data.password,callback:function(e){t.$set(t.data,"password",e)},expression:"data.password"}})],1)],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"请确认账户密码","prepend-icon":"lock",type:"password",rules:[t.rules.check]},model:{value:t.checkPassword,callback:function(e){t.checkPassword=e},expression:"checkPassword"}})],1)],1),t._v(" "),a("v-card",{on:{touchstart:t.signUp}},[a("div",{staticClass:"signUp"},[t._v("注册并登陆")])]),t._v(" "),t._m(0)],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("注册即视为同意《"),e("span",[this._v("注册协议")]),this._v("》")])}],!1,Ce,"data-v-30f25356",null).exports;function Se(t){t.dispatch("appShell/appHeader/setAppHeader",{show:!0,title:"我的关注",showMenu:!0,showBack:!0,showLogo:!1,func:!1,actions:{icon:"home",route:"home"}}),t.dispatch("appShell/appNavigation/setAppNavigation",{showNavigation:!1})}var Ne={name:"star",metaInfo:{title:"我的关注",titleTemplate:"%s - 福分通",meta:[{name:"keywords",content:"福分通"},{name:"description",content:"专注企业员工福利"}]},asyncData:function(){var t=d()(u.a.mark(function t(e){var a=e.store;e.route;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Se(a);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),activated:function(){Se(this.$store)},created:function(){this.collectList()},data:function(){return{city:this.$route.params.city,url:"http://admin.fufentong.cn/media/upload",testUrl:/http:\/\//i,items:[{header:"My collection"}]}},methods:{collectList:function(){var t=this;this.yum("api/member/collectList","",this.city).then(function(e){200===e.data.status&&e.data.data.forEach(function(e){var a={};a.avatar=e.default_img,a.title=e.product_name,a.subtitle=e.dc_code,a.product_id=e.product_id,t.items.push({divider:!0,inset:!0}),t.items.push(a)})})},select:function(t){this.selected=t.text},goDetail:function(t){var e=this.$route.params.city;this.$router.push("/"+e+"/detail/"+t)}}};var Ae=function(t){a("0whv")},Pe=Object(O.a)(Ne,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"star"},[a("div",{staticClass:"star-box"},[a("v-list",{attrs:{"two-line":""}},[t._l(t.items,function(e,i){return[e.header?a("v-subheader",{key:e.header},[t._v(t._s(e.header))]):e.divider?a("v-divider",{key:i,attrs:{inset:e.inset}}):a("v-list-tile",{key:e.title,attrs:{avatar:""},on:{click:function(a){t.goDetail(e.product_id)}}},[a("v-list-tile-avatar",[a("img",{attrs:{src:t.testUrl.test(e.avatar)?e.avatar:t.url+e.avatar}})]),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:t._s(e.title)}}),t._v(" "),a("v-list-tile-sub-title",{domProps:{innerHTML:t._s(e.subtitle)}})],1)],1)]})],2)],1)])},[],!1,Ae,"data-v-ec7dfbfa",null).exports,Ie={setAppHeader:{show:!1,title:"兑换袋",showMenu:!0,showBack:!1,showLogo:!1,func:!0,actions:{icon:"edit",route:""}}};function Ee(t){t.dispatch("appShell/appHeader/setAppHeader",Ie.setAppHeader),t.dispatch("appShell/appNavigation/setAppNavigation",{showNavigation:!1})}var Te={name:"success",asyncData:function(){var t=d()(u.a.mark(function t(e){var a=e.store;e.route;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Ee(a);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),activated:function(){Ee(this.$store),this.getCart()},data:function(){return{url:"/"+this.$route.params.city+"/"}}};var Oe=function(t){a("h1Lk")},je=Object(O.a)(Te,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[1==t.$route.query.status?a("div",{staticClass:"callback"},[a("h1",[a("v-icon",{attrs:{color:"green"}},[t._v("check_circle")])],1),t._v(" "),a("h2",[t._v("支付成功")]),t._v(" "),a("h3",[t._v("付款金额："+t._s(t.$route.query.amount))]),t._v(" "),a("a",{attrs:{href:t.url}},[t._v("回到首页")])]):a("div",{staticClass:"callback"},[a("h1",[a("v-icon",{attrs:{color:"red"}},[t._v("highlight_off")])],1),t._v(" "),a("h2",[t._v("支付失败")]),t._v(" "),a("a",{attrs:{href:t.url}},[t._v("回到首页")])])])},[],!1,Oe,"data-v-1cfd4054",null).exports,Le={name:"appshell",metaInfo:{title:"Lavas",meta:[{name:"keywords",content:"lavas PWA"},{name:"description",content:"基于 Vue 的 PWA 解决方案，帮助开发者快速搭建 PWA 应用，解决接入 PWA 的各种问题"}],bodyAttrs:{"empty-appshell":void 0}}},He=Object(O.a)(Le,function(){var t=this.$createElement;return(this._self._c||t)("div")},[],!1,null,null,null).exports,De={name:"error",computed:{message:function(){return this.$route.params.error||"您访问的路径不存在"}},created:function(){var t=this.$route.query;0!==D()(t).length&&this.$router.replace({name:"error",params:t})},activated:function(){this.bus.$emit("notice",{text:"页面错误"})},methods:{getRandom:function(t,e){var a=Math.random()*(e-t),i=Math.round(a+t);return i=Math.max(Math.min(i,e),t)}}};var Me=function(t){a("fHip")},Be=Object(O.a)(De,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-error"},[a("v-card",[a("v-card-media",{attrs:{src:"http://www.fufentong.cn/webskin/Common/images/404_r.png",height:"200px"}}),t._v(" "),a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h3",{staticClass:"headline mb-0"},[t._v("没有找到您想要的页面QAQ")]),t._v(" "),a("div",[t._v("您要查找的网址可能已被删除或者暂时不可用 "),a("br"),t._v("以下链接继续浏览网站 ...")])])]),t._v(" "),a("v-card-actions",[a("v-btn",{attrs:{flat:"",color:"black"}},[t._v("首页")]),t._v(" "),a("v-btn",{attrs:{flat:"",color:"black"}},[t._v("热门商品")])],1)],1)],1)},[],!1,Me,"data-v-6a7ff41c",null).exports;var Ue=function(t){a("jwcl")},qe=[{path:"/:city/detail/:id",component:L,meta:{},name:"cityDetailId"},{path:"/:city/error",component:U,meta:{},name:"cityError"},{path:"/:city/grade",component:X,meta:{},name:"cityGrade"},{path:"/:city/home",component:K,meta:{},name:"cityHome"},{path:"/:city",component:et,meta:{},name:"city"},{path:"/:city/login",component:ct,meta:{},name:"cityLogin"},{path:"/:city/product",component:ht,meta:{},name:"cityProduct"},{path:"/:city/search",component:gt,meta:{},name:"citySearch"},{path:"/:city/shopping/account",component:St,meta:{},name:"cityShoppingAccount"},{path:"/:city/shopping",component:Et,meta:{},name:"cityShopping"},{path:"/:city/user/address/edit",component:Ht,meta:{},name:"cityUserAddressEdit"},{path:"/:city/user/address",component:qt,meta:{},name:"cityUserAddress"},{path:"/:city/user/help",component:Gt,meta:{},name:"cityUserHelp"},{path:"/:city/user",component:Ft,meta:{},name:"cityUser"},{path:"/:city/user/jifen",component:Kt,meta:{},name:"cityUserJifen"},{path:"/:city/user/msg",component:ie,meta:{},name:"cityUserMsg"},{path:"/:city/user/order",component:re,meta:{},name:"cityUserOrder"},{path:"/:city/user/password",component:de,meta:{},name:"cityUserPassword"},{path:"/:city/user/returns",component:me,meta:{},name:"cityUserReturns"},{path:"/:city/user/setting",component:xe,meta:{},name:"cityUserSetting"},{path:"/:city/user/sign-up",component:$e,meta:{},name:"cityUserSignUp"},{path:"/:city/user/star",component:Pe,meta:{},name:"cityUserStar"},{path:"/:city/user/success",component:je,meta:{},name:"cityUserSuccess"},{path:"/appshell",component:He,meta:{},name:"appshell"},{path:"/",component:Object(O.a)({name:"index",beforeCreate:function(){this.$router.push("www/")}},function(){var t=this.$createElement;return(this._self._c||t)("div")},[],!1,Ue,"data-v-fabbda30",null).exports,meta:{},name:"index"},{path:"/error",component:Be,meta:{},name:"error",alias:"*"}];p.a.use(P.a);var Re=["index"],Ve=[],Je=[],Ge="LAVAS_HISTORY_ARRAY_STACK_LOCAL_KEY",ze="LAVAS_HISTORY_STATE_STACK_LOCAL_KEY",Xe=[],Qe=!1;function Fe(){return history.state?history.state.key:""}function We(t,e){try{localStorage.setItem(t,"object"===(void 0===e?"undefined":A()(e))?S()(e):e)}catch(t){}}function Ye(t,e){var a,i=!0;return Qe?(a=Xe.indexOf(Fe()),i=a===Xe.length-1||-1===a||(Xe.length=a+1,!1),setTimeout(function(){var t=Fe(),e=Xe.indexOf(t);i&&-1===e&&Xe.push(t),We(ze,Xe)},300)):((i=function(t,e){var a=Je.indexOf(t.fullPath);return-1===a||(Je.length=a+1,!1)}(t))&&Je.push(t.fullPath),We(Ge,Je)),t.name&&-1!==Re.indexOf(t.name)?i=!1:t.name&&-1!==Ve.indexOf(t.name)&&(i=!0),i}Qe=window.history&&"state"in history;var Ze=function(t,e,a){if(a)return a;var i={};return t.hash&&(i.selector=t.hash),t.matched.some(function(t){return t.meta.scrollToTop})&&(i.x=0,i.y=0),i};qe.filter(function(t){return t.keepAlive||t.meta.keepAlive}).map(function(t){return t.name});function Ke(){var t=new P.a({mode:"history",base:"/",scrollBehavior:Ze,routes:qe});return Qe?function(){if(history.length>1)try{var t=JSON.parse(localStorage.getItem(ze));t&&t.length&&(Xe=t.slice(-history.length))}catch(t){}setTimeout(function(){Xe.length?Xe[Xe.length-1]=Fe():Xe.push(Fe())},300)}():function(t){var e=location.href.replace(location.origin+t,"/");try{var a=JSON.parse(localStorage.getItem(Ge));a&&a.length&&a[a.length-1]===e&&(Je=a)}catch(t){}-1===Je.indexOf(e)&&Je.push(e)}(t.options.base),t.beforeEach(function(e,a,i){if(t.app.$store&&t.app.$store.state.pageTransition.enable){var n=Ye(e)?"slide-left":"slide-right";t.app.$store.commit("pageTransition/setType","slide"),t.app.$store.commit("pageTransition/setEffect",n)}i()}),t}var ta=a("BO1k"),ea=a.n(ta);p.a.use(I.a);var aa=a("VfP6"),ia=aa.keys(),na={},sa=!0,oa=!1,ra=void 0;try{for(var ca,ua=ea()(ia);!(sa=(ca=ua.next()).done);sa=!0){var la=ca.value;if("./index.js"===la){na=xa(la);break}}}catch(t){oa=!0,ra=t}finally{try{!sa&&ua.return&&ua.return()}finally{if(oa)throw ra}}if("function"!=typeof na){na.modules=na.modules||{};var da=!0,pa=!1,ha=void 0;try{for(var va,fa=ea()(ia);!(da=(va=fa.next()).done);da=!0){var ma=va.value;if("./index.js"!==ma){var _a=ma.replace(/^\.\//,"").replace(/\.js$/,""),ga=_a.split("/"),ya=ba(na,ga);ya[_a=ga.pop()]=xa(ma),ya[_a].namespaced=!0}}}catch(t){pa=!0,ha=t}finally{try{!da&&fa.return&&fa.return()}finally{if(pa)throw ha}}}var wa=na instanceof Function?na:function(){return new I.a.Store(b()({},na,{state:na.state instanceof Function?na.state():{}}))};function xa(t){var e=aa(t),a=e.default||e;if(a.commit)throw new Error("[lavas] store/"+t.replace("./","")+" should export a method which returns a Vuex instance.");if(a.state&&"function"!=typeof a.state)throw new Error("[lavas] state should be a function in store/"+t.replace("./",""));return a}function ba(t,e){if(1===e.length)return t.modules;var a=e.shift(),i=t.modules[a]=t.modules[a]||{};return i.namespaced=!0,i.modules=i.modules||{},ba(i,e)}var ka={name:"appHeader",computed:b()({},Object(I.c)("appShell/appHeader",["show","showMenu","showBack","showLogo","title","actions","func","control"]),Object(I.c)("appShell/common",["isPageSwitching"])),data:function(){return{}},methods:{event:function(){this.bus.$emit("control")},handleClick:function(t){var e=t.route;if(!this.isPageSwitching){var a=this.$route.params.city;a&&this.$router.push("/"+a+"/"+e)}}}};var Ca=function(t){a("SAX2")},$a=Object(O.a)(ka,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"slide-down"}},[a("header",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"app-header-wrapper"},[a("div",{staticClass:"app-shopping-header"},[a("v-toolbar",{attrs:{dark:"",color:"red darken-2",height:"50"}},[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.showBack,expression:"showBack"}],attrs:{icon:""},on:{click:function(e){t.$router.go(-1)}}},[a("v-icon",[t._v("arrow_back")])],1),t._v(" "),a("v-toolbar-title",[t._v(t._s(t.title))]),t._v(" "),a("v-spacer"),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showMenu,expression:"showMenu"}],staticStyle:{margin:"0"}},[t.func?a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){return t.event(e)}}},[a("v-icon",[t._v(t._s(t.actions.icon))])],1):a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.handleClick(t.actions)}}},[a("v-icon",[t._v(t._s(t.actions.icon))])],1)],1)],1)],1)])])},[],!1,Ca,"data-v-6b171b56",null).exports,Sa={name:"updateToast",data:function(){return{refreshIcon:!1,fault:"站点发生更新，请手动更新！"}},mounted:function(){window.addEventListener("sw.update",this.update)},beforeDestroy:function(){window.removeEventListener("sw.update",this.update)},methods:{update:function(){this.refreshIcon=!0},refresh:function(){window.location.reload()}}};var Na=function(t){a("2pXF")},Aa=Object(O.a)(Sa,function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"popup"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.refreshIcon,expression:"refreshIcon"}],staticClass:"update-toast"},[e("span",[this._v(this._s(this.fault))]),this._v(" "),e("span",{staticClass:"update-toast-close-btn",on:{click:this.refresh}},[e("i",{staticClass:"iconfont icon-refresh"})])])])},[],!1,Na,"data-v-29fb5765",null).exports,Pa={name:"Toast",data:function(){return{show:!1,text:"测试这个气泡消息"}},mounted:function(){var t=this;it.$on("notice",function(e){t.handleNotice(e)})},methods:{handleNotice:function(t){this.show=!0,this.text=t.text;var e=this;setTimeout(function(){e.show=!1},1500)}}};var Ia=function(t){a("4bmX")},Ea=Object(O.a)(Pa,function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"popup"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}],staticClass:"update-toast"},[e("span",[this._v(this._s(this.text))])])])},[],!1,Ia,"data-v-89469e86",null).exports,Ta={name:"AppNavigation",data:function(){return{e31:!0,city:this.$route.params.city||"",shopping:"shopping",user:"user",signIn:"login"}},computed:b()({},Object(I.c)("appShell/appNavigation",["showNavigation","login"]),Object(I.c)("exchange",{exc:function(t){return t.exc}}),{e3:{get:function(){return this.$route.name.replace("city","").toLowerCase()||"home"},set:function(){}},cart:function(){return"元"===this.exc.unit?"购物车":"兑换袋"}})};var Oa=function(t){a("wm6v")},ja={name:"app",metaInfo:{meta:[{name:"theme",content:"#e82146"}]},created:function(){window.localStorage.getItem("user")?this.$store.dispatch("appShell/appNavigation/setAppNavigation",{login:!0}):this.$store.dispatch("appShell/appNavigation/setAppNavigation",{login:!1})},components:{UpdateToast:Aa,AppHeader:$a,AppNavigation:Object(O.a)(Ta,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-bottom-nav",{directives:[{name:"show",rawName:"v-show",value:t.showNavigation,expression:"showNavigation"}],staticClass:"nav-height",attrs:{app:"",value:t.e31,active:t.e3,color:"white"},on:{"update:active":function(e){t.e3=e}}},[a("v-btn",{attrs:{flat:"",value:"home"},on:{click:function(e){t.$router.push("home")}}},[a("span",[t._v("首页")]),t._v(" "),a("v-icon",[t._v("home")])],1),t._v(" "),a("v-btn",{attrs:{flat:"",value:"grade"},on:{click:function(e){t.$router.push({path:"grade",query:1})}}},[a("span",[t._v("上新")]),t._v(" "),a("v-icon",[t._v("grade")])],1),t._v(" "),a("v-btn",{attrs:{flat:"",value:"shopping"},on:{click:function(e){t.$router.push(t.login?t.shopping:t.signIn)}}},[a("span",[t._v(t._s(t.cart))]),t._v(" "),a("v-icon",[t._v("shopping_cart")])],1),t._v(" "),a("v-btn",{attrs:{flat:"",value:"product"},on:{click:function(e){t.$router.push("product")}}},[a("span",[t._v("分类")]),t._v(" "),a("v-icon",[t._v("store")])],1),t._v(" "),a("v-btn",{attrs:{flat:"",value:"user"},on:{click:function(e){t.$router.push(t.login?t.user:t.signIn)}}},[a("span",[t._v("我的")]),t._v(" "),a("v-icon",[t._v("account_circle")])],1)],1)},[],!1,Oa,"data-v-0114e02a",null).exports,Toast:Ea},computed:b()({},Object(I.c)("pageTransition",{pageTransitionType:function(t){return t.type},pageTransitionEffect:function(t){return t.effect}}),Object(I.c)("appShell/appHeader",{appHeaderShow:function(t){return t.show}}),Object(I.c)("appShell/common",{scrollPostionMap:function(t){return t.scrollPostionMap}}),{pageTransitionClass:function(){return"transition-"+this.pageTransitionType},routerViewKey:function(){var t=this.$route,e=t.name,a=t.params,i=D()(a);return i.length?e+i.reduce(function(t,e){return t+a[e]},""):null}}),data:function(){return{keepAlivePages:["home","grade","shopping","product","search","account"]}},methods:b()({},Object(I.b)("appShell/appSidebar",["showSidebar","hideSidebar"]),Object(I.b)("appShell/common",["setPageSwitching","savePageScrollPosition"]),{restoreContainerScrollPosition:function(t,e){t.classList.add("app-view-scroll-enabled"),t.scrollTop=e},restoreBodyScrollPosition:function(t,e){t.classList.remove("app-view-scroll-enabled"),document.body.scrollTop=document.documentElement.scrollTop=e},handleBeforeEnter:function(t){var e=this,a=t.dataset.pageId,i=(this.scrollPostionMap[a]||{}).y,n=void 0===i?0:i;this.setPageSwitching(!0),p.a.nextTick(function(){e.restoreContainerScrollPosition(t,n)})},handleAfterEnter:function(t){var e=t.dataset.pageId,a=(this.scrollPostionMap[e]||{}).y,i=void 0===a?0:a;this.setPageSwitching(!1),this.restoreBodyScrollPosition(t,i)},handleBeforeLeave:function(t){var e=t.dataset.pageId,a=document.body.scrollTop||document.documentElement.scrollTop;this.restoreContainerScrollPosition(t,a),this.savePageScrollPosition({pageId:e,scrollPosition:{y:a}})}})};var La=function(t){a("gHRC")},Ha=Object(O.a)(ja,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-app",[a("app-header",{staticClass:"app-shell-header"}),t._v(" "),a("transition",{attrs:{name:t.pageTransitionEffect},on:{"before-enter":t.handleBeforeEnter,"after-enter":t.handleAfterEnter,"before-leave":t.handleBeforeLeave}},[a("keep-alive",{attrs:{include:[].concat(t.keepAlivePages)}},[a("router-view",{key:t.routerViewKey,staticClass:"app-view",class:[{"app-view-with-header":t.appHeaderShow},t.pageTransitionClass],attrs:{"data-page-id":t.$route.fullPath}})],1)],1),t._v(" "),a("app-navigation"),t._v(" "),a("update-toast"),t._v(" "),a("toast")],1)],1)},[],!1,La,null,null).exports,Da=a("M+UZ"),Ma=a.n(Da),Ba=a("IcMm"),Ua=a.n(Ba),qa=a("7Q1V"),Ra=a.n(qa),Va=a("7M7f"),Ja=a.n(Va),Ga=a("uzlj"),za=a.n(Ga),Xa=a("f/u0"),Qa=a.n(Xa),Fa=a("XRgG"),Wa=a.n(Fa),Ya=a("JUsQ"),Za=a.n(Ya),Ka=a("fYhH"),ti=a.n(Ka),ei=a("QLUw"),ai=a.n(ei),ii=a("0TZ1"),ni=a.n(ii),si=a("+1ch"),oi=a.n(si),ri=a("dVU6"),ci=a.n(ri),ui=a("/yi5"),li=a.n(ui),di=a("+9ps"),pi=a.n(di),hi=a("7gKz"),vi=a.n(hi),fi=a("noJB"),mi=a.n(fi),_i=a("RWpw"),gi=a.n(_i),yi=a("6/SM"),wi=a.n(yi),xi=a("DYTo"),bi=a.n(xi),ki=a("mtWM"),Ci=a.n(ki),$i=a("mw3O"),Si=a.n($i),Ni=a("cTzj"),Ai=a.n(Ni);p.a.use(Ai.a,{preLoad:1.3,error:"../../static/img/err.png",loading:"../../static/img/loading.png",attempt:1}),p.a.filter("exch",function(t,e){var a=t.jifen,i=t.product_jifen,n=t.zhekou_jifen,s=t.iszhekou,o=e.has_custom_price,r=e.exchange;return 1===o?parseInt(a)/parseInt(r):1===s?parseInt(n)/parseInt(r):parseInt(i)/parseInt(r)}),p.a.prototype.qs=Si.a,p.a.prototype.bus=it,p.a.use(C.a),p.a.use(Ma.a,{components:{VApp:Ua.a,VBtn:Ra.a,VIcon:Ja.a,VBottomNav:za.a,VCard:Qa.a,VDivider:Wa.a,VGrid:Za.a,VList:ti.a,VProgressCircular:ai.a,VRadioGroup:ni.a,VSelect:oi.a,VSlider:ci.a,VTextField:li.a,VToolbar:pi.a,VSubheader:vi.a,VBottomSheet:mi.a,VAvatar:gi.a,VTabs:wi.a},directives:bi.a}),p.a.prototype.axios=Ci.a,p.a.prototype.storage=at,p.a.prototype.yum=function(t,e,a,i){var n=null;n="localhost"===location.hostname?"http://api.fufentong.com/"+a+"/":"http://mapi.fufentong.cn/"+a+"/";var s=null;at.hasItem("user")&&(s=at.getStorage("user").token);var o={token:s};return e&&(o=b()(o,e)),o=Si.a.stringify(o),t=n+t,"get"===i?Ci.a.get(t,o):Ci.a.post(t,o)},p.a.config.productionTip=!1;var Pi={data:function(){return{percent:0,show:!1,canSuccess:!0,duration:3e3,height:"2px",color:"#57ffb2",failedColor:"#ff0000"}},methods:{start:function(){var t=this;return this.show=!0,this.canSuccess=!0,this._timer&&(clearInterval(this._timer),this.percent=0),this._cut=1e4/Math.floor(this.duration),this._timer=setInterval(function(){t.increase(t._cut*Math.random()),t.percent>95&&t.finish()},100),this},set:function(t){return this.show=!0,this.canSuccess=!0,this.percent=Math.floor(t),this},get:function(){return Math.floor(this.percent)},increase:function(t){return this.percent=this.percent+Math.floor(t),this},decrease:function(t){return this.percent=this.percent-Math.floor(t),this},finish:function(){return this.percent=100,this.hide(),this},pause:function(){return clearInterval(this._timer),this},hide:function(){var t=this;return clearInterval(this._timer),this._timer=null,setTimeout(function(){t.show=!1,t.$nextTick(function(){setTimeout(function(){t.percent=0},200)})},500),this},fail:function(){return this.canSuccess=!1,this}}};var Ii=function(t){a("7Ocu")},Ei=Object(O.a)(Pi,function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"progress",style:{width:this.percent+"%",height:this.height,"background-color":this.canSuccess?this.color:this.failedColor,opacity:this.show?1:0}})},[],!1,Ii,"data-v-bbeefce0",null).exports,Ti=a("p5k0"),Oi=a.n(Ti),ji=a("XGXE"),Li=a.n(ji);a("MU8w"),a("BEQ0"),a("CJsk");Oi.a.shim(),Li.a.shim();var Hi,Di,Mi=p.a.prototype.$loading=new p.a(Ei).$mount(),Bi=(Hi=Ke(),Di=wa(),{App:p.a.extend(b()({router:Hi,store:Di},Ha)),router:Hi,store:Di}),Ui=Bi.App,qi=Bi.router,Ri=Bi.store,Vi=w.a.build,Ji=Vi.ssr,Gi=Vi.cssExtract,zi=w.a.middleware,Xi=void 0===zi?{}:zi,Qi=w.a.skeleton,Fi=Qi.enable,Wi=Qi.asyncCSS,Yi=void 0;window.__INITIAL_STATE__&&Ri.replaceState(window.__INITIAL_STATE__),"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual"),document.body.appendChild(Mi.$el),p.a.mixin({beforeRouteUpdate:function(){var t=d()(u.a.mark(function t(e,a,i){var n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=this.$options.asyncData)?(Mi.start(),n.call(this,{store:this.$store,route:e}).then(function(){Mi.finish(),i()}).catch(i)):i();case 2:case"end":return t.stop()}},t,this)}));return function(e,a,i){return t.apply(this,arguments)}}()});var Zi=!0;if(function(){var t=this;qi.beforeEach((e=d()(u.a.mark(function e(a,i,n){var s,o,c,l,d,p,m;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Zi||a.path!==i.path){t.next=2;break}return t.abrupt("return",n());case 2:return Zi=!1,s=qi.getMatchedComponents(a),o=[].concat(r()(Xi.all||[]),r()(Xi.client||[]),r()(s.filter(function(t){var e=t.middleware;return!!e}).reduce(function(t,e){var a=e.middleware;return t.concat(a)},[]))),t.next=7,v(o);case 7:if(c=t.sent,!(l=o.find(function(t){return"function"!=typeof c[t]}))){t.next=11;break}throw new Error("Unknown middleware "+l);case 11:return d=!1,p=f({to:a,from:i,store:Ri,next:function(t){if(Mi.finish&&Mi.finish(),!d){if(d=!0,t.external)return t.query=Object(h.stringify)(t.query),t.path=t.path+(t.query?"?"+t.query:""),window.location.replace(t.path),n();n(t)}}},Yi),m=o.map(function(t){return c[t]}),t.next=17,_(m,p);case 17:d||n();case 18:case"end":return t.stop()}},e,t)})),function(t,a,i){return e.apply(this,arguments)}));var e}(),!document.body.hasAttribute("empty-appshell")&&Ji)Yi=new Ui,qi.onReady(function(){tn(),Yi.$mount("#app")});else{var Ki=Fi&&Wi&&Gi;window.mountLavas=function(){setTimeout(function(){var t=document.querySelector("#app");t&&(t.innerHTML=""),Yi.$mount("#app")},0)},tn(),Yi=new Ui,(!Ki||Ki&&window.STYLE_READY)&&window.mountLavas()}function tn(){var t=this;qi.beforeResolve(function(e,a,i){var n,o=qi.getMatchedComponents(e),r=qi.getMatchedComponents(a),c=!1,l=o.filter(function(t,e){return c||(c=r[e]!==t)});if(!l.length)return i();Mi.start(),s.a.all(l.filter(function(t){return t.asyncData&&(!t.asyncDataFetched||!e.meta.keepAlive)}).map((n=d()(u.a.mark(function a(i){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.asyncData({store:Ri,route:e});case 2:i.asyncDataFetched=!0;case 3:case"end":return t.stop()}},a,t)})),function(t){return n.apply(this,arguments)}))).then(function(){Mi.finish(),i()}).catch(i)})}},oHt9:function(t,e){},"q/9b":function(t,e){},qRVk:function(t,e){},rzhv:function(t,e){},sBiC:function(t,e){},tEF0:function(t,e){},vYXs:function(t,e){},wm6v:function(t,e){},xF1H:function(t,e){},xQep:function(t,e){}},[0]);
//# sourceMappingURL=index.e126ab67.js.map